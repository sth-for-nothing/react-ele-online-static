(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(42).concat([function(e,t,a){e.exports=a.p+"static/media/default_icon.8c2f9a49.jpeg"},,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAJnElEQVR4XtVbe2xT1xn/zrUdx8F5tRAMTUtSjEPWQQyMxAmPJquqTqrWJFuXf8YGmTSkInUEOsQ2jZUodCrrprCpHd2oiluVjrXVSCqxR4uGndjCDojYqdiwCUpIHR5p0jjPxgbfMx3bN3Zu/Lj33JvAzn+Wz/nO9/2+5/nOuQgWc6zZbASszAUFmwcYGWe3RtgPIcYV/n3vKzf0u/yLxRZasI3WmoqAhScBoBoQVANAkeC9MPYDQi7AYAEWWaD3glXwWpET5QWgyJgHGZm1gGBXWHC5BgEEgxmAfQeuXYxYikxDHgCItkN4b1hwhPJk4i0ZGQuEoBl6HRY59pEGANG4Sv0yMKhJDmZE0uiHEDRKBYIeAINpJwA+tggaT40Lxm0QDDTSBk7xAIT9XH0SEKoTqbGFm05iBOBG8Ha1id1EHAAkjTGKM6IiuliOpMxn8TG45twnhoRwAAzldQCIaH6hg5wY/ufPJdkiOLNPqEsIA2CNaRcwcFIaZ4u4GmMXBAM1QkBID8D/m/AczgJBSA1AxOe7F1F38m5F3MHraExFNDkA4VIWdz/wPp8WMvx78DiT1inJATBUEOFjB5a0Gz3AEzBbnyxFJgagpOIYANr7AIskjjVSJwQDxYmC4nwAZPR7vU4zWLoya3jHtoLw8fa9zqE8m8dfPDoVykkkgWllyFuggekdT7D+964w4XT78XWFPFZIKkavs56/73wASkznpZ7kfln/mP3Q80WrVApUmEjQqUDIc7RtYPjImYEt+jx28KP6YN/6AliHEMrlz8cYj1kGkGv3P1T6Xj/ziDjV82aHoIZ/dpgLgMSUZ9Jnez89VIaXqBUlghgdu+NGfe4yIXMJEG9cZlwvfppBegy0ox88juL4xXMBKDH10Za5RHh7y4blibSYlFsRAHA03HewzXgycystAsCzghgAErRPJTyRgAIAskwiCBbwOGo4AGMAGCraAKFaGmQn3tnqEWz28RtQAkBI7P67outEj7Kchl9gQxu4zlIEAFL0YCDmL3q83ri6Y88zhdtFL5RgAWQpiQkPt2ag0SCTMKOk5idWHEUAKKloAkCtNEIETm33JYv2aelJsABC+8P/ImtDO0VQJHWB15lPaEQBMJH+mujoeug7q+zNDUVb0gqabIJEAIgVMEcz56VOQfxE3YADAAtaxJvUfXSTvWyV9r4BQNj5VSdjb7GrxPOAoRm8jsMI9KZqUAApfkSP0F+2j4lKe/wdpqetyGsTbXnxZNy3sd1ozhQPAIAVPI5qBAbTYUDwsljpSZnrPVZOV5lhNA65VT2s1rQVPj/rVPT8oRQQUAQzgHsh1qd6TZOw4kwpUzQOEADMgGCnWACe+8ZSd9tPnxBUxc2hrS60svnPGYHRzPouHv2PR3nhJS0ASwUoelUtlv3I/MBMPoKSRQqAqqU2nF9bhJV5SbWl6G6xwE3bRrHWUPuR0v1xr0K8MkJQg4Dy3P/XvaXW71UWpPFfpRe0X7/FaqvmaDyluiYHfYorrddh5IpeqEVIA6DERJUB5hdASi+odbeA0WBQFSjZrLJ18WZOZaOTgz7mxt+uo6Afw4RPCYERbZhOcOLxeCuhBgDwPuICVADwYwDOr3NjzWrxZkiBDOM40IG+7JmtPqveVXou3BR4Ao3fD0MzNQCVa3I89pYNs8feRQXgcosV3Y6lT+ogKAUAAiR7OhYC7hsAGMbRUTVVCoWwCxgqXIAQlekOnah0L83OCK+9XwBcG0Wdhj9lbKPwJCC9Aeo0SDaMD4T3CwDqUpgIIBUAvU7j8x4rj+T1vKe72Kz1dOdzkepj4mLAQ62qsdEAQ30goi6FOZ65AxGbqbfCQ7WS6nqhOHBZ4NId5vzmk6rZ7o7Q9bPzPA6EgNz6IoZceVMNzgrYjEc7YGkDXWNE5M7MJ991w93J4tUnNND3JUsZALnDkIRuEMd3uCqsWqljV+wV1g0WKTB/uuLsM+Onriov7mhXPEVPKtIVivQDDBXkWRqdH0U5mDBv9WqKXtQBo6HViDBZBs523XL8cebR1xXSrI2FRrjmMEcBoDsRxnNMXOGzN37oVS179pvCJKGbNfLPH51b+7uhzdSBj9s2MJNPrsoiAEhoisSLUW5Y5rGfeGsFQmhBrGB89KZrdcPuYsnCY9wOXmf4jVOsLV5i6geAVXR6ia368be/5Tx+YE+FVDr89Rjj8dLvvzDe67spvvnBJxY1fx4A8t0In2s90lG9ab00H+Uxffjt921HzKfpb4Q4ehiPQTBQxN0UxyxAhmwQz/Pp5oOW52u2yPJcVjbhCYPRZijH69y7Qcr2WCJz/7c+q6MmV/04XlHYD9ueVrGV1cLdYmpynLGd6wGnVXXVPzX5tUu3JaS7OO542p/rAuRX5BFkv9SUSEjlIzw2VJYzqWSiV9qI8eH1m3rZZxvWQIEuce+PCP7B25eRq2sDx8OHI0Frw42v5KkwedqfD0C4JqDrEieygsoljMdu0M7LCnjlYzZiFVibo8brNhrxZ5fdiku20XjBCb17LDtY4B7XjmJpNUqYtwTaTwxAGAT6IzIfCH0G8rlKl0wvUSgMYjNDlWfCc2GKlae6TPJOKPEbIZmeyWizQuMv7PB3V22cMSIGRFea/QMq2/FTuQWePrVo8OaAHZf3+UpI8UpMmisc2D1ipRWcz+TQMOPcf6SgdHJaQVNg3YDAjDHZq9HUDyUpssKKZXcHf/Oz4S+ys1l5HjdF0cAsjB0/lev5pFMrvOdA/B6z1am+Mkn/VFbExUlJccD76sHh5TTmLjQ+vN+ebf/gbI6wu8AEj6KEuwA3M5IaLen6hoshPMeSIBDiyt1U4Ka3AK4+UGeSjxES5mMS7My//eKWUhmSJ2ILMIfj7xY6/2XD84srYvaAdwn9eEIYABxDSWJCy/6hjnVr78pa+6fDIBQC386XdDlzAqMAnxfvAvwVvEKp3Djj/sWeEaq2ejoh0/1vv5Rpfe3PD0esEmM3MKgOrjrIqVbwEGcBHFlSJyDGTOLCm6+MduqWTdP15QWzmXgiyQw/2K9Dk1OKVvLag4YcHQDRnZZv2fTzN18ZOoiQ+CKHhln+GgzYerFb9ZNfN/X10NKTBADZ9Mz5vDxgtE2AUdNiAUEEBwYO12/zSf54UjIAHPIxIGAXQkhyZymRRjFAOyAw12//XPTnccksRDYA4jc4c/4RIzBME2Cok2oVYW0jbIbQVFt9jV/2r8oXBIC5YOiKQKEyAsakNJ7tECFAszUFxvgGIIhGb9QPiHVBCCz1NYOyfiidyAr+B+id4iAHDVcWAAAAAElFTkSuQmCC"},,,function(e,t,a){e.exports=a(125)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(26),r=a.n(c),i=a(8),l=a(10),o=a(41),m=a(9),u=a(14),d=a.n(u),h=a(17),p=a(7),v=a.n(p),g=a(42),E=5914347498,f="qIEhitQydpZO1Y2msEtSJXhSvgmpody2kDEA",N=10,y={cityList:"https://shadow.elemecdn.com/lib/city-list@0.0.3/city_list.json",addressSearch:"restapi/bgs/poi/search_poi_nearby_alipay",restaurants:"restapi/shopping/v3/restaurants",foodEntry:"restapi/shopping/v2/entries",siftFactors:"restapi/shopping/v2/foods_page/sift_factors",category:"restapi/shopping/v2/restaurant/category",shopImgUrlPrefix:"https://fuss10.elemecdn.com/",shopImgUrlSuffix:"?imageMogr/format/webp/thumbnail/",coverImgSize:"!130x130r/gravity/Center/crop/130x130/",foodImgSize:"!140x140r/gravity/Center/crop/140x140/",navCategoryImgSize:"!90x90r/gravity/Center/crop/90x90/",bgImgSize:"750x/thumbnail/!40p/blur/50x40/",avatarSize:"150x",commentAvatar:"!60.032001953125x60.032001953125r/gravity/Center/crop/60.032001953125x60.032001953125/",commentImg:"300x",shopCoverAlbum:"!200x200r/gravity/Center/crop/200x200/",restMini:"48x",searchFood:"176x",orderFood:"!72x72r/gravity/Center/crop/72x72/",orderShop:"!64x64r/gravity/Center/crop/64x64/",geohash:"restapi/bgs/poi/reverse_geo_coding",shopDetails:"/pizza/shopping/restaurants",shopComments:"https://www.easy-mock.com/mock/5c9cad0707c0ba1a896adc85/elem/pizza/ugc/restaurants",defaultImg:a.n(g).a,searchEntity:"restapi/shopping/v1/typeahead",searchShopList:"restapi/shopping/v2/restaurants/search",root:"http://127.0.0.1:666"},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e){var a=e.split("");a.splice(1,0,"/"),a.splice(4,0,"/");var n=a.join(""),s=/\S+png$/.test(n),c=/\S+jpeg$/.test(n),r=s?".png":c?".jpeg":"",i="";switch(t){case"avatar":i=y.avatarSize;break;case"bg":i=y.bgImgSize;break;case"food":i=y.foodImgSize;break;case"shop":i=y.coverImgSize;break;case"nav":i=y.navCategoryImgSize;break;case"commentAvatar":i=y.commentAvatar;break;case"commentImg":i=y.commentImg;break;case"shopAlbum":i=y.shopCoverAlbum;break;case"restMini":i=y.restMini;break;case"searchFood":i=y.searchFood;break;case"orderFood":i=y.orderFood;break;case"orderShop":i=y.orderShop;break;default:i=t}return y.shopImgUrlPrefix+n+r+y.shopImgUrlSuffix+i}},b=function(e){var t=[];Object.assign(t,e);var a=t.map(function(e,a){return t[a].image_hash=j(e.image_hash,"nav"),e});return function(e,t){for(var a=[],n=0;n<t-1;n++){var s=e.splice(0,N);a.push(s)}return a.push(e),a}(a,Math.ceil(a.length/N))},M=function(e){var t=(e=(e=e.replace(/[\'\"\\\/\b\f\n\r\t]/g,"")).replace(/[\@\#\$\%\^\&\*\{\}\:\"\L\<\>\?]/)).split("");return t.forEach(function(e,a){/\d/.test(e)&&(t[a]=String.fromCharCode(65+Number(e)))}),e=t.join("")},I=function(e,t){if(!e||!t||!Array.isArray(e))return[];var a=/^[A-Za-z]+$/.test(t),n=/^[\u4e00-\u9fa5]{0,}$/.test(t),s=[];return e.forEach(function(e){e.cities.forEach(function(e){a&&-1!==e.pinyin.indexOf(t)?s.push(e):n&&-1!==e.name.indexOf(t)&&s.push(e)})}),s},w=function(e){return new Promise(function(t,a){var n=JSON.parse(window.localStorage.getItem("RESTAURANT_DATA")),s=JSON.parse(window.localStorage.getItem("LOCATION"));if(n&&e===n.rst.id)t(n);else{var c=y.shopDetails;v.a.get("".concat(c,"/").concat(e,"/batch_shop"),{params:{user_id:E,code:"0.3453671834145038",extras:'["activities","albums","license","identification","qualification"]',terminal:"h5",latitude:s.latitude,longitude:s.longitude}}).then(function(e){window.localStorage.setItem("RESTAURANT_DATA",JSON.stringify(e.data)),0!==e.data.menu.length&&v.a.post("".concat(y.root,"/getNewRst"),{data:e.data}),console.log("get data from network"),t(e.data)}).catch(function(a){v.a.get("".concat(y.root,"/shopDetail/"),{params:{shop_id:e}}).then(function(e){var n=JSON.parse(JSON.stringify(a)).response.status;t(e.data),(!e||0===e.length&&403===n)&&t("\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc")})})}})},L=function(e,t){var a=[],n=e.split("");return t.forEach(function(e,t){n.forEach(function(t,n){e.name.indexOf(t)>-1&&a.push(e.id)})}),0===a.length&&(a=Object.assign([],t[0].ids)),a},O=function(){return new Promise(function(e){var t=JSON.parse(localStorage.getItem("USER")),a=t?t.phone:"";v.a.get("".concat(y.root,"/address"),a).then(function(t){window.localStorage.setItem("RECEIVE_ADDRESS",JSON.stringify(t.data)),console.log(t.data),e(t.data)}).catch(function(){e([{name:"\u5510",sex:1,phone:"1365705****",address:"******"}])})})},S=function(e){return new Promise(function(t){v.a.post("".concat(y.root,"/saveOrder"),{order:e})})},C=function(){var e=Object(h.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("".concat(y.root,"/address"),{address:t});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),_="GET_CURRENT_ADDRESS",k="SET_CURRENT_CITY",z="GET_SEARCH_RESULT_LIST",A={currentCity:null,curAddress:null,searchResultList:[],site:null},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:_,data:{city:t||e.city,address:e.name,site:e}}},T=function(e){return{type:z,data:{list:e}}},D=function(){var e=JSON.parse(window.localStorage.getItem("CITY_LIST"));if(!e){var t=y.cityList;v.a.get(t).then(function(t){e=t.data,window.localStorage.setItem("CITY_LIST",JSON.stringify(e))}).catch(function(e){console.log(e)})}return e||null},H=function(){return JSON.parse(window.localStorage.getItem("LOCATION"))||null},R=function(e){window.sessionStorage.setItem("LOCATION",JSON.stringify(e))},U=function(){return JSON.parse(window.sessionStorage.getItem("LOCATION"))},Y=function(){return function(e){D();var t=U(),a=H(),n=t?t.city:null;a&&e(x(a,n))}},B=function(e){return function(t){t(function(e){return{type:k,data:{city:e}}}(e.name)),R(e)}},F=function(e){return function(t){if(e){var a=U(),n=a||{latitude:null,longitude:null},s=n.latitude,c=n.longitude,r=y.addressSearch;v.a.get(r,{params:{keyword:e,offset:0,limit:20,latitude:s,longitude:c}}).then(function(e){t(T(e.data))}).catch(function(e){console.log(e)})}}},P=function(e){return function(t){t(x(e)),t(T([])),function(e){window.localStorage.setItem("LOCATION",JSON.stringify(e))}(e),R(e)}},W="SUCCESS_GET_SHOP_LIST",Q="FAILURE_GET_SHOP__LIST",G={list:[]},Z=function(e){return{type:W,data:{list:e}}},V=function(){return{type:Q}},J=function(){return function(e){H()?new Promise(function(e,t){var a=JSON.parse(window.localStorage.getItem("LOCATION")),n=y.restaurants;v.a.get("".concat(n),{params:{latitude:a.latitude,longitude:a.longitude,offset:0,limit:8,extras:["activities","tags"],extra_filters:"home",rank_id:null,terminal:"h5"}}).then(function(t){e(t.data.items)}).catch(function(t){v.a.get(y.root).then(function(a){a?(e(a.data),console.log(a.data)):console.log(t)}).catch(function(e){console.log(e)})})}).then(function(t){var a;t&&(a=t,window.localStorage.setItem("SHOP_LIST",JSON.stringify(a)),e(Z(t)))}).catch(function(t){console.log(t),e(V());var a=function(){var e=window.localStorage.getItem("SHOP_LIST");return e?JSON.parse(e):null}();e(Z(a))}):e(V())}},q=a(31),X="SUCCESS_GET_FOODENTRY",K="SUCCESS_GET_CATELIST",$={foodEntries:[],cateList:[]},ee=function(e){return{type:K,data:{cateList:e}}},te=function(){return function(e){var t=JSON.parse(window.localStorage.getItem("LOCATION")),a=y.foodEntry;return v.a.get(a,{params:{latitude:t.latitude,longitude:t.longitude,templates:["main_template","favourable_template","svip_template"]}}).then(function(t){var a=t.data[0].entries;a&&e({type:X,data:a})}).catch(function(e){console.log(e.response)})}},ae=function(e,t){return function(a){var n,s=[],c=y.restaurants,r=JSON.parse(window.localStorage.getItem("LOCATION"));r&&(function(e){return new Promise(function(t){var a=y.siftFactors,n=JSON.parse(window.localStorage.getItem("LOCATION"));a&&n&&v.a.get(a,{params:{entry_id:e,latitude:n.latitude,longitude:n.longitude,terminal:"h5"}}).then(function(e){t(e.data)}).catch(function(e){console.log(e)})})}(e).then(function(e){s.length>0||(s=e.length>8?e.splice(0,8):e,i())}),(n=t,new Promise(function(e){var t=y.category,a=JSON.parse(window.localStorage.getItem("LOCATION")),s=JSON.parse(window.localStorage.getItem("CATEGORY_IDS")),c=[];n&&a&&(s?c=L(n,s):v.a.get(t,{params:{latitude:a.latitude,longitude:a.longitude}}).then(function(e){var t=e.data;window.localStorage.setItem("CATEGORY_IDS",JSON.stringify(t)),c=L(n,s)}).catch(function(e){console.log(e)}),e(c))})).then(function(e){s.length>0||(s=e,i())}));function i(){v.a.get(c,{params:{latitude:r.latitude,longitude:r.longitude,keyword:"",offset:0,limit:8,extras:["activities","tags"],terminal:"h5",brand_ids:[],restaurant_category_ids:Object(q.a)(s)}}).then(function(e){var t=e.data.items;a(ee(t))}).catch(function(e){console.log(e)})}}},ne=function(){var e=window.localStorage.getItem("SHOP_CART");return e?JSON.parse(e):[]},se=function(e){return window.localStorage.setItem("SHOP_CART",JSON.stringify(e))},ce="UPDATE_SHOP_CART",re="ADD_CART",ie="REDUCE_CART_NUM",le="CLEAR_CURRENT_CART",oe={cartList:ne(),curCartList:[]},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:ce,data:{cart:ne(),shopId:e}}},ue=function(e,t,a){return{type:ie,data:{cart:e,shopId:t,status:a}}},de=function(e,t){return function(a){var n=ne(),s=!0;n.length>0?(n.forEach(function(e,a){e.item_id===t.item_id&&(n[a].num++,s=!1)}),s&&(t.num=1,t.shopId=e,n.push(t)),se(n)):(t.num=1,t.shopId=e,n.push(t),se(n)),a(function(e,t){return{type:re,data:{cart:e,shopId:t}}}(n,e))}},he=function(e,t){return function(a){var n=!0,s=ne();s.length>0?(s.forEach(function(e,a){e.item_id===t&&(s[a].num--,n=!1),0===s[a].num&&s.splice(a,1)}),a(ue(s,e,n?"failed":"success")),se(s)):a(ue(s,e,"failed"))}},pe=function(e){return function(t){var a=ne(),n=[];a.length>0&&(n=a.filter(function(t){return t.shopId!==e})),t({type:le,data:{cart:n}}),console.log("clear"),se(n)}},ve="REQUEST_COMMENTS_RATING_TAGS",ge={comments:[],rating:{},tags:[]},Ee=function(e){return function(e){var t=y.shopComments;v.a.get(t).then(function(t){var a=Object(m.a)({},t.data),n=a.comments,s=a.rating,c=a.tags;200===t.status&&e(function(e,t,a){return{type:ve,data:{comments:e,rating:t,tags:a}}}(n,s,c))}).catch(function(e){console.log(e)})}},fe="LOGIN",Ne="LOGOUT",ye={isLogin:!1,username:null,phone:null,message:""},je=function(e){return{type:fe,data:e}},be=function(e,t){return function(a){var n=y.root;v.a.post("".concat(n,"/login"),{phone:e,password:t}).then(function(t){var n=t.data.message;"login"===n||"signUp"===n?(a(je({isLogin:!0,username:t.data.user.username,phone:e,message:"\u767b\u5f55\u6210\u529f"})),delete t.data.user.password,window.localStorage.setItem("USER",JSON.stringify(t.data.user))):"pwdWrong"===n&&a(je({isLogin:!1,message:"\u5bc6\u7801\u9519\u8bef"}))}).catch(function(e){console.log(e)})}},Me=Object(i.c)({shopList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(m.a)({},e,{status:"success",list:t.data.list});case Q:return Object(m.a)({},e,{status:"failure"});default:return e}},foodEntry:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(m.a)({},e,{status:"success",foodEntries:Object(q.a)(t.data)});case K:return Object(m.a)({},e,{cateList:t.data.cateList});default:return e}},getAddress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(m.a)({},e,{currentCity:t.data.city,curAddress:t.data.address,site:t.data.site});case k:return Object(m.a)({},e,{currentCity:t.data.city});case z:return Object(m.a)({},e,{searchResultList:t.data.list});default:return e}},shopCart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return Object(m.a)({},e,{curCartList:t.data.shopId?t.data.cart.filter(function(e){return e.shopId===t.data.shopId}):t.data.cart});case re:return Object(m.a)({},e,{cartList:t.data.cart,curCartList:t.data.cart.filter(function(e){return e.shopId===t.data.shopId})});case ie:return Object(m.a)({},e,{cartList:t.data.cart,curCartList:t.data.cart.filter(function(e){return e.shopId===t.data.shopId}),status:t.data.status});case le:return Object(m.a)({},e,{cartList:t.data.cart,curCartList:[]});default:return e}},comment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:return Object(m.a)({},e,{comments:t.data.comments,rating:t.data.rating,tags:t.data.tags});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return Object(m.a)({},e,t.data);case Ne:return Object(m.a)({},e,ye);default:return e}}}),Ie=a(2),we=a(3),Le=a(5),Oe=a(4),Se=a(6),Ce=a(129),_e=a(49),ke=a(130),ze=a(43),Ae=a.n(ze),xe=a(1),Te=a.n(xe),De=a(127),He=(a(91),function(e){function t(){var e,a;Object(Ie.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(Le.a)(this,(e=Object(Oe.a)(t)).call.apply(e,[this].concat(s)))).handleBack=function(){window.history.back()},a}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"back",onClick:this.handleBack},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 32",version:"1.1"},s.a.createElement("path",{fill:this.props.customColor||"#fff",d:"M16.552 5.633L14.508 3.59 2.243 15.853 14.508 28.41l2.044-2.043-10.22-10.513z"})))}}]),t}(n.Component)),Re=(a(92),function(e){function t(){return Object(Ie.a)(this,t),Object(Le.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"render",value:function(){return s.a.createElement("header",{className:"use_header"},s.a.createElement("div",{className:"use_header_bg"},s.a.createElement(He,null),s.a.createElement("h1",{className:"use_header_title"},this.props.title)))}}]),t}(n.Component)),Ue=(a(93),function(e){function t(){var e;return Object(Ie.a)(this,t),(e=Object(Le.a)(this,Object(Oe.a)(t).call(this))).onChangeCity=function(t){var a=t.target.value,n=I(e.state.cityList,a),s=n.length>100?n.splice(0,50):n;e.setState({resultList:s})},e.state={cityList:[],alphabet:[],resultList:[]},e}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"componentDidMount",value:function(){var e=D();this.setState({cityList:e.cityList,alphabet:e.alphabet})}},{key:"handleClick",value:function(e){document.querySelector("#"+e).scrollIntoView(!0)}},{key:"handleClickCity",value:function(e){this.props.chooseCity(e)}},{key:"render",value:function(){var e=this,t=this.state.cityList;return s.a.createElement("div",{className:"cityList_container"},s.a.createElement(Re,{title:"\u57ce\u5e02\u9009\u62e9"}),s.a.createElement("div",{className:"city_input"},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",className:"search_icon"},s.a.createElement("path",{fillOpacity:".38",d:"M14.778 13.732a.739.739 0 1 1-1.056 1.036l-2.515-2.565a.864.864 0 0 1-.01-1.206 4.894 4.894 0 0 0 1.357-3.651c-.126-2.492-2.156-4.52-4.648-4.647a4.911 4.911 0 0 0-5.16 5.163c.126 2.475 2.13 4.496 4.605 4.642.451.026.896-.008 1.326-.1a.739.739 0 0 1 .308 1.446c-.56.12-1.137.164-1.72.13-3.227-.19-5.83-2.815-5.995-6.042a6.39 6.39 0 0 1 6.71-6.715c3.25.165 5.884 2.8 6.05 6.048a6.37 6.37 0 0 1-1.374 4.3l2.12 2.161z"})),s.a.createElement("input",{type:"search",placeholder:"\u8bf7\u8f93\u5165\u57ce\u5e02\u540d\u6216\u62fc\u97f3",autoFocus:!0,className:"search_adderss_input",onChange:this.onChangeCity})),s.a.createElement("div",{className:"cur-city_block",style:{display:this.props.currentCity?"":"none"}},s.a.createElement("p",null,"\u5f53\u524d\u5b9a\u4f4d\u57ce\u5e02"),s.a.createElement("div",null,this.props.currentCity)),s.a.createElement("div",{className:"city-list_scroll",style:{display:this.state.resultList.length>0?"none":""}},t.map(function(t,a){return s.a.createElement("div",{id:t.idx,className:"city_block",key:a},s.a.createElement("div",{className:"city-block_title"},t.idx),t.cities.map(function(t,a){return s.a.createElement("div",{className:"city-block_content",key:a,onClick:e.handleClickCity.bind(e,t)},s.a.createElement("span",null,t.name))}))})),s.a.createElement("div",{className:"alphabet_list"},this.state.alphabet.map(function(t,a){return s.a.createElement("span",{key:a,onClick:e.handleClick.bind(e,t)},t)})),s.a.createElement("div",{className:"city-search_list",style:{display:this.state.resultList.length>0?"":"none"}},this.state.resultList.map(function(t,a){return s.a.createElement("div",{className:"city-block_content",key:a,onClick:e.handleClickCity.bind(e,t)},s.a.createElement("span",null,t.name))})))}}]),t}(n.Component)),Ye=(a(94),function(e){function t(){var e;return Object(Ie.a)(this,t),(e=Object(Le.a)(this,Object(Oe.a)(t).call(this))).getLocation=function(){e.getLocation.timer&&clearTimeout(e.timer),e.setState({rotate:!0}),e.getLocation.timer=setTimeout(function(){e.setState({rotate:!1})},1e3)},e.onChangeSite=function(t){var a=t.target.value;e.props.requestSearchLocation(a),a||e.setState({showCityList:!1})},e.handleClickCityChoose=function(){e.setState({showCityList:!0}),e._addHistory()},e._isCurrent=function(){window.history.state&&("cityList"===window.history.state.page?e.setState({showCityList:!0}):"getAddress"===window.history.state.page?e.setState({showCityList:!1}):"home"===window.history.state.page&&(window.document.body.style.overflow="auto"))},e.chooseCity=function(t){e.props.setCurrentCity(t),e.setState({showCityList:!1})},e.state={rotate:!1,addressList:[],showCityList:!1},e}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.title="\u9009\u62e9\u5730\u5740",this.props.setCurrentlocation(),O().then(function(t){e.setState({addressList:t})}),window.addEventListener("popstate",this._isCurrent)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",this._isCurrent)}},{key:"_addHistory",value:function(){window.history.pushState({page:"cityList"},"","")}},{key:"setCurrentAddress",value:function(e){this.props.setCurrentAddress(e),this.props.confirmAddress(e.name),this.refs.searchSiteRef.value=""}},{key:"modifySite",value:function(e){this.props.history.push("/address",{user:e})}},{key:"render",value:function(){var e=this,t=this.props.searchResultList.length>0?"":"none",a=this.props.searchResultList.length>0?"none":"";return s.a.createElement("div",{className:"getAdderss"},s.a.createElement("div",{style:{display:this.state.showCityList?"none":"",height:"100%",overflowY:"auto"}},s.a.createElement(Re,{title:"\u9009\u62e9\u6536\u8d27\u5730\u5740"}),s.a.createElement("form",{className:"search_address_form"},s.a.createElement("div",{className:"city_click",onClick:this.handleClickCityChoose},s.a.createElement("span",null,this.props.currentCity||"\u9009\u62e9\u57ce\u5e02"),s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 8",className:"index-2KCWC_0"},s.a.createElement("path",{fill:"#333",fillRule:"evenodd",d:"M5.588 6.588c.78.78 2.04.784 2.824 0l5.176-5.176c.78-.78.517-1.412-.582-1.412H.994C-.107 0-.372.628.412 1.412l5.176 5.176z"}))),s.a.createElement("div",{className:"city_input"},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",className:"search_icon"},s.a.createElement("path",{fillOpacity:".38",d:"M14.778 13.732a.739.739 0 1 1-1.056 1.036l-2.515-2.565a.864.864 0 0 1-.01-1.206 4.894 4.894 0 0 0 1.357-3.651c-.126-2.492-2.156-4.52-4.648-4.647a4.911 4.911 0 0 0-5.16 5.163c.126 2.475 2.13 4.496 4.605 4.642.451.026.896-.008 1.326-.1a.739.739 0 0 1 .308 1.446c-.56.12-1.137.164-1.72.13-3.227-.19-5.83-2.815-5.995-6.042a6.39 6.39 0 0 1 6.71-6.715c3.25.165 5.884 2.8 6.05 6.048a6.37 6.37 0 0 1-1.374 4.3l2.12 2.161z"})),s.a.createElement("input",{type:"search",placeholder:"\u8bf7\u8f93\u5165\u5730\u5740",autoFocus:!0,ref:"searchSiteRef",className:"search_adderss_input",onChange:this.onChangeSite}))),s.a.createElement("section",{className:"addr_list",style:{display:t}},this.props.searchResultList.splice(0,10).map(function(t,a){return s.a.createElement("div",{className:"addr_cell",key:a,onClick:e.setCurrentAddress.bind(e,t)},s.a.createElement("div",{className:"addr-detail_cell"},s.a.createElement("p",{className:"addr_name"},t.name),s.a.createElement("p",{className:"addr-detail_txt"},t.address)),s.a.createElement("div",{className:"addr-distance_cell"},t.distance))})),s.a.createElement("section",{className:"no_address",style:{display:t}},s.a.createElement("div",null,s.a.createElement("p",null,"\u627e\u4e0d\u5230\u5730\u5740\uff1f"),s.a.createElement("p",null,"\u8bf7\u5c1d\u8bd5\u53ea\u8f93\u5165\u5c0f\u533a\u3001\u5199\u5b57\u697c\u6216\u5b66\u6821\u540d"),s.a.createElement("p",null,"\u8be6\u7ec6\u5730\u5740\uff08\u5982\u95e8\u724c\u53f7\uff09\u53ef\u7a0d\u540e\u8f93\u5165"))),s.a.createElement("section",{className:"current_address",style:{display:a}},s.a.createElement("h4",null,"\u5f53\u524d\u5730\u5740"),s.a.createElement("div",{className:"current_address_msg"},s.a.createElement("span",{className:"cur_addr",onClick:this.setCurrentAddress.bind(this,this.props.site)},this.props.curAddress),s.a.createElement("span",{className:"pos_address",onClick:this.getLocation},s.a.createElement("svg",{className:this.state.rotate?"rotate":"cc",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15 15",version:"1.1"},s.a.createElement("g",{fillRule:"evenodd",fill:"none"},s.a.createElement("circle",{cx:"7.5",cy:"7.5",r:"7",stroke:"#2395FF"}),s.a.createElement("path",{fill:"#2395FF",d:"M7 0h1v5H7zM7 10h1v5H7zM10 7h5v1h-5zM0 7h5v1H0z"}))),s.a.createElement("span",null,"\u91cd\u65b0\u5b9a\u4f4d")))),s.a.createElement("section",{className:"delivery_address"},s.a.createElement("h4",null,"\u6536\u8d27\u5730\u5740"),s.a.createElement("div",{className:"detail_address_group"},this.state.addressList.length>0?this.state.addressList.map(function(t,a){return s.a.createElement("div",{key:a,className:"detail_address_cell",onClick:e.modifySite.bind(e,t)},s.a.createElement("p",null,s.a.createElement("span",null,t.address.name),s.a.createElement("span",null,1===t.address.sex?"\u5148\u751f":"\u5973\u58eb"),s.a.createElement("span",null,t.address.phone)),s.a.createElement("p",null,t.address.address))}):null))),this.state.showCityList?s.a.createElement(Ue,{currentCity:this.props.currentCity,chooseCity:this.chooseCity}):null)}}]),t}(n.Component));Ye.proptype={currentCity:Te.a.array,curAddress:Te.a.string,setCurrentlocation:Te.a.func,setCurrentCity:Te.a.func,requestSearchLocation:Te.a.func,setCurrentAddress:Te.a.func};var Be=Object(l.b)(function(e){return{curAddress:e.getAddress.curAddress,currentCity:e.getAddress.currentCity,searchResultList:e.getAddress.searchResultList,site:e.getAddress.site}},function(e){return Object(i.b)({setCurrentlocation:Y,setCurrentCity:B,requestSearchLocation:F,setCurrentAddress:P},e)})(Object(De.a)(Ye)),Fe=(a(96),function(e){function t(){var e;return Object(Ie.a)(this,t),(e=Object(Le.a)(this,Object(Oe.a)(t).call(this)))._isCurrent=function(){window.history.state&&("getAddress"===window.history.state.page?(e.setState({getAddress:!0}),e._bodyoverflow()):"home"===window.history.state.page&&(e.setState({getAddress:!1}),window.document.body.style.overflow="auto"))},e.confirmAddress=function(t){e.setState({address:t,getAddress:!1}),window.history.go(-1)},e.state={getAddress:!1,address:""},e}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"componentWillMount",value:function(){var e=this;window.history.pushState({page:"home"},"",""),window.addEventListener("popstate",this._isCurrent);var t=U();if(!t){var a=null;a&&clearTimeout(a),a=setTimeout(function(){e.setState({getAddress:!0})},1e3)}this.setState({address:t?t.name:null})}},{key:"handleClick",value:function(){this.setState({getAddress:!0}),this._addHistory(),this._bodyoverflow()}},{key:"_addHistory",value:function(){window.history.pushState({page:"getAddress"},"","")}},{key:"_bodyoverflow",value:function(){window.document.body.style.overflow="hidden"}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",this._isCurrent)}},{key:"render",value:function(){return s.a.createElement(Ae.a,{transitionName:"example",transitionEnterTimeout:500,transitionLeaveTimeout:500},s.a.createElement("header",{className:"main_header"},s.a.createElement("div",{className:"hd_title"},s.a.createElement("div",{className:"main_address",onClick:this.handleClick.bind(this)},s.a.createElement("span",{className:"address_icon"}),s.a.createElement("span",{className:"address"},this.state.address?this.state.address:"\u6b63\u5728\u83b7\u53d6\u5730\u5740..."),s.a.createElement("i",{className:"sj"})))),this.state.getAddress?s.a.createElement(Be,{confirmAddress:this.confirmAddress}):null)}}]),t}(n.Component)),Pe=function(e){function t(){return Object(Ie.a)(this,t),Object(Le.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(Fe,null))}}]),t}(n.Component),We=a(30),Qe=(a(97),function(e){function t(){return Object(Ie.a)(this,t),Object(Le.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"search_box"},s.a.createElement(We.a,{to:"/search",className:"search_content"},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s.a.createElement("path",{fillOpacity:".38",d:"M14.778 13.732a.739.739 0 1 1-1.056 1.036l-2.515-2.565a.864.864 0 0 1-.01-1.206 4.894 4.894 0 0 0 1.357-3.651c-.126-2.492-2.156-4.52-4.648-4.647a4.911 4.911 0 0 0-5.16 5.163c.126 2.475 2.13 4.496 4.605 4.642.451.026.896-.008 1.326-.1a.739.739 0 0 1 .308 1.446c-.56.12-1.137.164-1.72.13-3.227-.19-5.83-2.815-5.995-6.042a6.39 6.39 0 0 1 6.71-6.715c3.25.165 5.884 2.8 6.05 6.048a6.37 6.37 0 0 1-1.374 4.3l2.12 2.161z"})),s.a.createElement("span",null,"\u641c\u7d22\u5546\u5bb6\u3001\u5546\u54c1\u540d\u79f0")))}}]),t}(n.Component)),Ge=a(47),Ze=a.n(Ge),Ve=(a(101),function(e){function t(){var e;return Object(Ie.a)(this,t),(e=Object(Le.a)(this,Object(Oe.a)(t).call(this))).transitionEnd=function(t,a){e.setState({currentPage:t})},e.state={currentPage:0,swipeNum:0,data:[]},e}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"render",value:function(){var e=this,t=[],a={continuous:!1,transitionEnd:this.transitionEnd},n=this.props.data.map(function(a,n){return t.push(s.a.createElement("li",{className:"swipe_pagination_cell ".concat(e.state.currentPage===n?"is-active":""),key:n})),s.a.createElement("div",{key:n,className:"swipe-slide"},a.map(function(t,a){return s.a.createElement("div",{key:a,className:"swipe_cell",onClick:e.props.clickSwipeCate.bind(e,t)},s.a.createElement("img",{src:t.image_hash,alt:t.name}),s.a.createElement("span",null,t.name))}))});return s.a.createElement("div",{className:"foodentry swipe-container"},s.a.createElement(Ze.a,{className:"carousel",swipeOptions:a,key:this.props.data.length},n),s.a.createElement("ul",{className:"swipe_pagination"},t))}}]),t}(n.Component)),Je=(a(102),function(e){function t(){return Object(Ie.a)(this,t),Object(Le.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"skeletonWrapper"},s.a.createElement("div",{className:"skeleton-row"},s.a.createElement("div",{className:"skeleton-cell"}),s.a.createElement("div",{className:"skeleton-cell"}),s.a.createElement("div",{className:"skeleton-cell"}),s.a.createElement("div",{className:"skeleton-cell"}),s.a.createElement("div",{className:"skeleton-cell"})),s.a.createElement("div",{className:"skeleton-row"},s.a.createElement("div",{className:"skeleton-cell"}),s.a.createElement("div",{className:"skeleton-cell"}),s.a.createElement("div",{className:"skeleton-cell"}),s.a.createElement("div",{className:"skeleton-cell"}),s.a.createElement("div",{className:"skeleton-cell"})))}}]),t}(n.Component)),qe=function(e){function t(){var e;return Object(Ie.a)(this,t),(e=Object(Le.a)(this,Object(Oe.a)(t).call(this))).clickSwipeCate=function(t){e.props.requestGetCateRest(t.id,t.name),e.props.history.push({pathname:"/cateResult",search:"?target_name=".concat(t.name,"&entry_id=").concat(t.id)})},e.state={data:[]},e}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.requestGetFoodEntries();case 2:t=b(this.props.foodEntries),this.setState({data:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement("div",null,this.state.data.length>0?s.a.createElement(Ve,{data:this.state.data,clickSwipeCate:this.clickSwipeCate}):s.a.createElement(Je,null))}}]),t}(n.Component),Xe=Object(l.b)(function(e){return{foodEntries:e.foodEntry.foodEntries}},function(e){return Object(i.b)({requestGetFoodEntries:te,requestGetCateRest:ae},e)})(Object(De.a)(qe)),Ke=a(44),$e=(a(103),function(e){function t(){return Object(Ie.a)(this,t),Object(Le.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"rating_stars"},s.a.createElement("div",{className:"rating-gray_img"},s.a.createElement("img",{alt:"",src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTU0LjAxNyA4LjA3MmwtMi41NTIgMS41NjFjLS40NzYuMjkxLS43NTguMDk2LS42MjYtLjQ1NWwuNjk2LTIuOTA5LTIuMjczLTEuOTQ0Yy0uNDI0LS4zNjItLjMyNS0uNjkxLjIzOS0uNzM2bDIuOTgyLS4yMzdMNTMuNjMuNTg5Yy4yMTMtLjUxNS41NTctLjUyMy43NzQgMGwxLjE0NiAyLjc2MyAyLjk4Mi4yMzdjLjU1Ni4wNDQuNjcuMzY4LjI0LjczNmwtMi4yNzQgMS45NDQuNjk2IDIuOTFjLjEzLjU0Mi0uMTQzLjc1LS42MjYuNDU0bC0yLjU1MS0xLjU2em0tNDggMEwzLjQ2NSA5LjYzM2MtLjQ3Ni4yOTEtLjc1OC4wOTYtLjYyNi0uNDU1bC42OTYtMi45MDktMi4yNzMtMS45NDRjLS40MjQtLjM2Mi0uMzI1LS42OTEuMjM5LS43MzZsMi45ODItLjIzN0w1LjYzLjU4OWMuMjEzLS41MTUuNTU3LS41MjMuNzc0IDBMNy41NSAzLjM1MmwyLjk4Mi4yMzdjLjU1Ni4wNDQuNjcuMzY4LjI0LjczNkw4LjQ5NyA2LjI2OWwuNjk2IDIuOTFjLjEzLjU0Mi0uMTQzLjc1LS42MjYuNDU0bC0yLjU1MS0xLjU2em0xMiAwbC0yLjU1MiAxLjU2MWMtLjQ3Ni4yOTEtLjc1OC4wOTYtLjYyNi0uNDU1bC42OTYtMi45MDktMi4yNzMtMS45NDRjLS40MjQtLjM2Mi0uMzI1LS42OTEuMjM5LS43MzZsMi45ODItLjIzN0wxNy42My41ODljLjIxMy0uNTE1LjU1Ny0uNTIzLjc3NCAwbDEuMTQ2IDIuNzYzIDIuOTgyLjIzN2MuNTU2LjA0NC42Ny4zNjguMjQuNzM2bC0yLjI3NCAxLjk0NC42OTYgMi45MWMuMTMuNTQyLS4xNDMuNzUtLjYyNi40NTRsLTIuNTUxLTEuNTZ6bTEyIDBsLTIuNTUyIDEuNTYxYy0uNDc2LjI5MS0uNzU4LjA5Ni0uNjI2LS40NTVsLjY5Ni0yLjkwOS0yLjI3My0xLjk0NGMtLjQyNC0uMzYyLS4zMjUtLjY5MS4yMzktLjczNmwyLjk4Mi0uMjM3TDI5LjYzLjU4OWMuMjEzLS41MTUuNTU3LS41MjMuNzc0IDBsMS4xNDYgMi43NjMgMi45ODIuMjM3Yy41NTYuMDQ0LjY3LjM2OC4yNC43MzZsLTIuMjc0IDEuOTQ0LjY5NiAyLjkxYy4xMy41NDItLjE0My43NS0uNjI2LjQ1NGwtMi41NTEtMS41NnptMTIgMGwtMi41NTIgMS41NjFjLS40NzYuMjkxLS43NTguMDk2LS42MjYtLjQ1NWwuNjk2LTIuOTA5LTIuMjczLTEuOTQ0Yy0uNDI0LS4zNjItLjMyNS0uNjkxLjIzOS0uNzM2bDIuOTgyLS4yMzdMNDEuNjMuNTg5Yy4yMTMtLjUxNS41NTctLjUyMy43NzQgMGwxLjE0NiAyLjc2MyAyLjk4Mi4yMzdjLjU1Ni4wNDQuNjcuMzY4LjI0LjczNmwtMi4yNzQgMS45NDQuNjk2IDIuOTFjLjEzLjU0Mi0uMTQzLjc1LS42MjYuNDU0bC0yLjU1MS0xLjU2eiIgZmlsbD0iI0VFRSIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+"})),s.a.createElement("div",{className:"rating-active_img",style:{width:"".concat(100*this.props.rating/5,"%")}},s.a.createElement("img",{alt:"",src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PGxpbmVhckdyYWRpZW50IHgxPSIwJSIgeTE9IjUwJSIgeTI9IjUwJSIgaWQ9ImEiPjxzdG9wIHN0b3AtY29sb3I9IiNGRkRFMDAiIG9mZnNldD0iMCUiLz48c3RvcCBzdG9wLWNvbG9yPSIjRkZCMDAwIiBvZmZzZXQ9IjEwMCUiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cGF0aCBkPSJNNTQuMDE3IDguMDcybC0yLjU1MiAxLjU2MWMtLjQ3Ni4yOTEtLjc1OC4wOTYtLjYyNi0uNDU1bC42OTYtMi45MDktMi4yNzMtMS45NDRjLS40MjQtLjM2Mi0uMzI1LS42OTEuMjM5LS43MzZsMi45ODItLjIzN0w1My42My41ODljLjIxMy0uNTE1LjU1Ny0uNTIzLjc3NCAwbDEuMTQ2IDIuNzYzIDIuOTgyLjIzN2MuNTU2LjA0NC42Ny4zNjguMjQuNzM2bC0yLjI3NCAxLjk0NC42OTYgMi45MWMuMTMuNTQyLS4xNDMuNzUtLjYyNi40NTRsLTIuNTUxLTEuNTZ6bS00OCAwTDMuNDY1IDkuNjMzYy0uNDc2LjI5MS0uNzU4LjA5Ni0uNjI2LS40NTVsLjY5Ni0yLjkwOS0yLjI3My0xLjk0NGMtLjQyNC0uMzYyLS4zMjUtLjY5MS4yMzktLjczNmwyLjk4Mi0uMjM3TDUuNjMuNTg5Yy4yMTMtLjUxNS41NTctLjUyMy43NzQgMEw3LjU1IDMuMzUybDIuOTgyLjIzN2MuNTU2LjA0NC42Ny4zNjguMjQuNzM2TDguNDk3IDYuMjY5bC42OTYgMi45MWMuMTMuNTQyLS4xNDMuNzUtLjYyNi40NTRsLTIuNTUxLTEuNTZ6bTEyIDBsLTIuNTUyIDEuNTYxYy0uNDc2LjI5MS0uNzU4LjA5Ni0uNjI2LS40NTVsLjY5Ni0yLjkwOS0yLjI3My0xLjk0NGMtLjQyNC0uMzYyLS4zMjUtLjY5MS4yMzktLjczNmwyLjk4Mi0uMjM3TDE3LjYzLjU4OWMuMjEzLS41MTUuNTU3LS41MjMuNzc0IDBsMS4xNDYgMi43NjMgMi45ODIuMjM3Yy41NTYuMDQ0LjY3LjM2OC4yNC43MzZsLTIuMjc0IDEuOTQ0LjY5NiAyLjkxYy4xMy41NDItLjE0My43NS0uNjI2LjQ1NGwtMi41NTEtMS41NnptMTIgMGwtMi41NTIgMS41NjFjLS40NzYuMjkxLS43NTguMDk2LS42MjYtLjQ1NWwuNjk2LTIuOTA5LTIuMjczLTEuOTQ0Yy0uNDI0LS4zNjItLjMyNS0uNjkxLjIzOS0uNzM2bDIuOTgyLS4yMzdMMjkuNjMuNTg5Yy4yMTMtLjUxNS41NTctLjUyMy43NzQgMGwxLjE0NiAyLjc2MyAyLjk4Mi4yMzdjLjU1Ni4wNDQuNjcuMzY4LjI0LjczNmwtMi4yNzQgMS45NDQuNjk2IDIuOTFjLjEzLjU0Mi0uMTQzLjc1LS42MjYuNDU0bC0yLjU1MS0xLjU2em0xMiAwbC0yLjU1MiAxLjU2MWMtLjQ3Ni4yOTEtLjc1OC4wOTYtLjYyNi0uNDU1bC42OTYtMi45MDktMi4yNzMtMS45NDRjLS40MjQtLjM2Mi0uMzI1LS42OTEuMjM5LS43MzZsMi45ODItLjIzN0w0MS42My41ODljLjIxMy0uNTE1LjU1Ny0uNTIzLjc3NCAwbDEuMTQ2IDIuNzYzIDIuOTgyLjIzN2MuNTU2LjA0NC42Ny4zNjguMjQuNzM2bC0yLjI3NCAxLjk0NC42OTYgMi45MWMuMTMuNTQyLS4xNDMuNzUtLjYyNi40NTRsLTIuNTUxLTEuNTZ6IiBmaWxsPSJ1cmwoI2EpIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4="})))}}]),t}(n.Component)),et=(a(104),function(e){function t(){var e;return Object(Ie.a)(this,t),(e=Object(Le.a)(this,Object(Oe.a)(t).call(this))).actBtnClick=function(t){t.stopPropagation(),e.setState({showActivities:!e.state.showActivities})},e.state={shopDetail:{},showActivities:!1},e}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"linkJump",value:function(e,t){this.props.history.push({pathname:"/shop/".concat(e.id)})}},{key:"render",value:function(){var e=this,t=this.props.shopDetail,a=j(t.image_path,"shop"),n=t.piecewise_agent_fee.rules[0].price,c=t.distance/1e3<0?"".concat(t.distance,"m"):"".concat((t.distance/1e3).toFixed(2),"km"),r=t.support_tags.map(function(e,t){return s.a.createElement("span",{key:t,className:"mini_tag",style:{borderColor:e.border,color:e.color}},e.text)}),i=t.activities.concat(t.supports),l=i.map(function(t,a){return s.a.createElement("div",{key:a,className:"act_row",style:{display:a>1&&!e.state.showActivities?"none":""}},s.a.createElement("span",{className:"act_icon_text",style:{color:"#fff",backgroundColor:"#".concat(t.icon_color)}},t.icon_name),s.a.createElement("span",{className:"act_desc"},t.description))}),o=i.length;return s.a.createElement("div",null,s.a.createElement("section",{className:"shop_item",onClick:this.linkJump.bind(this,t)},s.a.createElement("div",{className:"shop_info"},s.a.createElement("div",{className:"logo_container"},s.a.createElement("div",{className:"logo"},s.a.createElement("img",{src:a,alt:t.name}))),s.a.createElement("div",{className:"main_info"},s.a.createElement("section",{className:"inner_line"},s.a.createElement("h3",{className:"shop_name"},t.name)),s.a.createElement("section",{className:"inner_line"},s.a.createElement("div",{className:"shop_rating"},s.a.createElement($e,{rating:t.rating}),s.a.createElement("span",{className:"rating_score"},t.rating),s.a.createElement("span",null,"\u6708\u552e",t.recent_order_num,"\u5355"))),s.a.createElement("section",{className:"inner_line"},s.a.createElement("div",{className:"money_limit"},s.a.createElement("span",null,"\uffe5",n,"\u8d77\u9001"),s.a.createElement("span",null,t.piecewise_agent_fee.tips)),s.a.createElement("div",{className:"time_distance"},s.a.createElement("span",{className:"distance"},c),s.a.createElement("span",null,t.order_lead_time,"\u5206\u949f"))))),s.a.createElement("div",{className:"shop_activitys"},s.a.createElement("section",{className:"tag_line"},r),s.a.createElement("span",null,s.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgwIiBoZWlnaHQ9IjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTAgLjI1TDI4MCAwIiBzdHJva2U9IiNDQ0MiIHN0cm9rZS13aWR0aD0iLjUiIGZpbGw9Im5vbmUiIHN0cm9rZS1kYXNoYXJyYXk9IjEiLz48L3N2Zz4=",alt:"tag_line",className:"dashed_line"})),s.a.createElement("section",{className:"activities"},s.a.createElement("div",{className:"activity_list"},l),s.a.createElement("div",{className:"activity_btn",onClick:this.actBtnClick},s.a.createElement("span",null,o,"\u4e2a\u6d3b\u52a8"),s.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjOTk5IiBkPSJNNC41NzcgNS40MjNjLjc5Ljc3IDIuMDczLjc2NyAyLjg1NyAwbDQuMTItNC4wMjZDMTIuMzQ1LjYyNSAxMi4wOSAwIDEwLjk4NSAwSDEuMDI3Qy0uMDc3IDAtLjMzLjYzLjQ1NyAxLjM5N2w0LjEyIDQuMDI2eiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+",alt:"activity_btn",className:this.state.showActivities?"activity_open":""})))),s.a.createElement("div",{className:"search-key_foodList",style:{display:this.props.searchKeyFood?"":"none"}},this.props.searchKeyFood?this.props.searchKeyFood.map(function(e,t){return t>2?null:s.a.createElement("div",{className:"search-key_foodItem",key:t},s.a.createElement("img",{src:j(e.image_path,"searchFood"),alt:e.name}),s.a.createElement("p",{className:"item_name"},e.name),s.a.createElement("p",{className:"item_price"},"\uffe5",e.price))}):null)))}}]),t}(n.Component)),tt=Object(Ke.a)(et),at=(a(105),function(e){function t(){return Object(Ie.a)(this,t),Object(Le.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"render",value:function(){var e=this.props.data.map(function(e,t){return s.a.createElement(tt,{shopDetail:e.restaurant,searchKeyFood:e.foods,key:t})});return s.a.createElement("div",null,s.a.createElement("section",{className:"shopList"},e))}}]),t}(n.Component)),nt=(a(106),function(e){function t(){return Object(Ie.a)(this,t),Object(Le.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"load-more_svg"},s.a.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},s.a.createElement("path",{d:"M955.261 575.322h-126.643c-34.955 0-63.322-28.37-63.322-63.322s28.37-63.322 63.322-63.322h126.643c34.955 0 63.322 28.37 63.322 63.322s-28.37 63.322-63.322 63.322v0zM780.616 332.925c-24.696 24.696-64.842 24.696-89.538 0s-24.696-64.842 0-89.538l89.538-89.538c24.696-24.696 64.842-24.696 89.538 0s24.696 64.842 0 89.538l-89.538 89.538zM512 1018.582c-34.955 0-63.322-28.37-63.322-63.322v-126.643c0-34.955 28.37-63.322 63.322-63.322s63.322 28.37 63.322 63.322v126.643c0 34.955-28.37 63.322-63.322 63.322v0zM512 258.707c-34.955 0-63.322-28.37-63.322-63.322v-126.643c0-34.955 28.37-63.322 63.322-63.322s63.322 28.37 63.322 63.322v126.643c0 34.955-28.37 63.322-63.322 63.322v0zM243.384 870.157c-24.696 24.696-64.842 24.696-89.538 0s-24.696-64.842 0-89.538l89.538-89.538c24.696-24.696 64.842-24.696 89.538 0s24.696 64.842 0 89.538l-89.538 89.538zM243.384 332.925l-89.538-89.538c-24.696-24.696-24.696-64.842 0-89.538s64.842-24.696 89.538 0l89.538 89.538c24.696 24.696 24.696 64.842 0 89.538-24.822 24.696-64.842 24.696-89.538 0v0zM258.707 512c0 34.955-28.37 63.322-63.322 63.322h-126.643c-34.955 0-63.322-28.37-63.322-63.322s28.37-63.322 63.322-63.322h126.643c34.955 0 63.322 28.37 63.322 63.322v0zM780.616 691.075l89.538 89.538c24.696 24.696 24.696 64.842 0 89.538s-64.842 24.696-89.538 0l-89.538-89.538c-24.696-24.696-24.696-64.842 0-89.538 24.822-24.696 64.842-24.696 89.538 0v0zM780.616 691.075z",fill:"#555555"})))}}]),t}(n.Component)),st=function(e){function t(){var e;return Object(Ie.a)(this,t),(e=Object(Le.a)(this,Object(Oe.a)(t).call(this))).state={onpullData:!1,noMoreData:!1,shopListTitle:"\u63a8\u8350\u5546\u5bb6"},e.timer=!0,e}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"componentDidMount",value:function(){this.props.requestGetShopList(),this.props.setCurrentlocation()}},{key:"componentWillReceiveProps",value:function(e){this.props.curSite&&this.props.curSite.latitude!==e.curSite.latitude&&this.props.curSite.longitude!==e.curSite.longitude&&this.props.requestGetShopList()}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"shopListTitle"},this.state.shopListTitle),s.a.createElement(at,{data:this.props.shopList}))}}]),t}(n.Component),ct=Object(l.b)(function(e){return{shopList:e.shopList.list,curSite:e.getAddress.site,rank_id:e.shopList.rank_id}},function(e){return Object(i.b)({requestGetShopList:J,setCurrentlocation:Y},e)})(st),rt=function(e){function t(){return Object(Ie.a)(this,t),Object(Le.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"wrapper"},s.a.createElement(Pe,null),s.a.createElement(Qe,null),s.a.createElement(Xe,null),s.a.createElement(ct,null))}}]),t}(n.Component),it=(a(107),function(e){function t(){var e;return Object(Ie.a)(this,t),(e=Object(Le.a)(this,Object(Oe.a)(t).call(this))).state={orderList:[],noOrder:!1,showSkeleton:!1},e}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.title="\u8ba2\u5355",this.setState({showSkeleton:!0}),new Promise(function(e){v.a.get("".concat(y.root,"/getOrders")).then(function(t){e(t.data)}).catch(function(t){var a=JSON.parse(window.localStorage.getItem("ORDER_LIST"));e(a)})}).then(function(t){var a=t;a&&0!==a.length||e.setState({noOrder:!0}),e.setState({orderList:a,showSkeleton:!1})})}},{key:"linkJump",value:function(e,t){this.props.history.push({pathname:"/shop/".concat(e)})}},{key:"render",value:function(){var e=this,t=this.state.orderList&&this.state.orderList.length>0?this.state.orderList:null;return s.a.createElement("div",null,s.a.createElement("header",{className:"hd"},"\u8ba2\u5355"),s.a.createElement("div",{className:"no_order",style:{display:this.state.noOrder?"":"none"}},s.a.createElement("svg",{t:"1557480071107",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1106"},s.a.createElement("path",{d:"M855.6 427.2H168.5c-12.7 0-24.4 6.9-30.6 18L4.4 684.7C1.5 689.9 0 695.8 0 701.8v287.1c0 19.4 15.7 35.1 35.1 35.1H989c19.4 0 35.1-15.7 35.1-35.1V701.8c0-6-1.5-11.8-4.4-17.1L886.2 445.2c-6.2-11.1-17.9-18-30.6-18zM673.4 695.6c-16.5 0-30.8 11.5-34.3 27.7-12.7 58.5-64.8 102.3-127.2 102.3s-114.5-43.8-127.2-102.3c-3.5-16.1-17.8-27.7-34.3-27.7H119c-26.4 0-43.3-28-31.1-51.4l81.7-155.8c6.1-11.6 18-18.8 31.1-18.8h622.4c13 0 25 7.2 31.1 18.8l81.7 155.8c12.2 23.4-4.7 51.4-31.1 51.4H673.4zM819.9 209.5c-1-1.8-2.1-3.7-3.2-5.5-9.8-16.6-31.1-22.2-47.8-12.6L648.5 261c-17 9.8-22.7 31.6-12.6 48.4 0.9 1.4 1.7 2.9 2.5 4.4 9.5 17 31.2 22.8 48 13L807 257.3c16.7-9.7 22.4-31 12.9-47.8zM375.4 261.1L255 191.6c-16.7-9.6-38-4-47.8 12.6-1.1 1.8-2.1 3.6-3.2 5.5-9.5 16.8-3.8 38.1 12.9 47.8L337.3 327c16.9 9.7 38.6 4 48-13.1 0.8-1.5 1.7-2.9 2.5-4.4 10.2-16.8 4.5-38.6-12.4-48.4zM512 239.3h2.5c19.5 0.3 35.5-15.5 35.5-35.1v-139c0-19.3-15.6-34.9-34.8-35.1h-6.4C489.6 30.3 474 46 474 65.2v139c0 19.5 15.9 35.4 35.5 35.1h2.5z","p-id":"1107"})),"\u6682\u65f6\u8fd8\u6ca1\u6709\u8ba2\u5355"),s.a.createElement("ul",{style:{display:this.state.showSkeleton?"":"none"}},[1,1,1,1].map(function(e,t){return s.a.createElement("img",{key:t,src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA3NTAgMzI1Ij48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxyZWN0IHdpZHRoPSI3NTAiIGhlaWdodD0iMzI1IiBmaWxsPSIjRkZGIiByeD0iNSIvPjxyZWN0IHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCIgeD0iMzAiIHk9IjI4IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4wNSIgcng9IjQiLz48cmVjdCB3aWR0aD0iMTIwIiBoZWlnaHQ9IjIyIiB4PSIxMTAiIHk9IjcwIiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4wNSIgcng9IjQiLz48cmVjdCB3aWR0aD0iNDI3IiBoZWlnaHQ9IjI2IiB4PSIxMTAiIHk9IjE1MCIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMDUiIHJ4PSI0Ii8+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBzdHJva2Utb3BhY2l0eT0iLjA1IiBkPSJNMTExLjUgMTI1aDYyME0zMC41IDIwNy41bDY5MyA3Ii8+PHJlY3Qgd2lkdGg9IjE0NiIgaGVpZ2h0PSI1MiIgeD0iNTg5IiB5PSIyNDYiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjA1IiByeD0iNCIvPjxyZWN0IHdpZHRoPSIxMjAiIGhlaWdodD0iMjYiIHg9IjYxNSIgeT0iMTUwIiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4wNSIgcng9IjQiLz48cmVjdCB3aWR0aD0iMjEwIiBoZWlnaHQ9IjMyIiB4PSIxMTAiIHk9IjI4IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4wNSIgcng9IjQiLz48cmVjdCB3aWR0aD0iOTAiIGhlaWdodD0iMjYiIHg9IjY0NSIgeT0iMzEiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjA1IiByeD0iNCIvPjwvZz48L3N2Zz4=",alt:""})})),s.a.createElement("ul",{className:"order-list_ul"},t?t.map(function(t,a){var n=0;return s.a.createElement("li",{className:"order-card_item",key:a},s.a.createElement("div",{className:"order-item_body"},s.a.createElement("div",{className:"order-shop_logo"},s.a.createElement("img",{src:j(t.restImg,"orderShop"),alt:t.restName})),s.a.createElement("div",{className:"order-item_content"},s.a.createElement("div",{className:"order_head"},s.a.createElement("div",{className:"title"},t.restName),s.a.createElement("p",{className:"datetime"},function(e){var t=new Date(parseInt(e));return t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate())+" "+(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":"+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())}(t.created_timestamp))),s.a.createElement("div",{className:"order_detail"},t.cartList.map(function(e,t){return n+=Number(e.specfoods[0].price)*Number(e.num),s.a.createElement("div",{className:"food_item",key:t},s.a.createElement("img",{src:j(e.image_path,"orderFood"),alt:e.name}),s.a.createElement("span",{className:"food_name"},e.name),s.a.createElement("span",{className:"food_num"},"x ",e.num),s.a.createElement("span",{className:"food_price"},s.a.createElement("span",null,"\uffe5"),Number(e.specfoods[0].price)*Number(e.num)))}),s.a.createElement("div",{className:"totalPrice"},"\u5408\u8ba1 \uffe5",n)))),s.a.createElement("div",{className:"order-item_bottom"},s.a.createElement("button",{onClick:e.linkJump.bind(e,t.restId)},"\u518d\u6765\u4e00\u5355")))}):null))}}]),t}(n.Component)),lt=Object(De.a)(it),ot=a(48),mt=a.n(ot),ut=(a(108),function(e){function t(){var e;return Object(Ie.a)(this,t),(e=Object(Le.a)(this,Object(Oe.a)(t).call(this))).doLogin=function(){e.state.login||e.props.history.push({pathname:"/login"})},e.logout=function(){window.localStorage.removeItem("USER"),console.log("\u9000\u51fa\u767b\u5f55"),e.props.history.replace("/")},e.state={login:!1,username:null},e}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"componentDidMount",value:function(){document.title="\u6211\u7684";var e=window.localStorage.getItem("USER");if(e){var t=JSON.parse(e),a=t.username,n=t.phone;this.setState({username:a,phone:n,login:!0})}}},{key:"getMyAddr",value:function(){this.props.history.push("/address")}},{key:"render",value:function(){var e=function(e,t){return s.a.createElement("a",{href:"javascript:void(0);",className:"menuLine"},s.a.createElement("aside",null,s.a.createElement("svg",{t:"1555218051585",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"24862"},s.a.createElement("path",{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474c-6.1-7.7-15.3-12.2-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1 0.4-12.8-6.3-12.8z","p-id":"24863",fill:"#666666"}))),s.a.createElement("div",{className:"menu_content"},t,s.a.createElement("span",{className:"more_icon"},s.a.createElement("svg",{fill:"#bbb",viewBox:"0 0 1024 1024",id:"arrow-right",className:"icon",width:"100%",height:"100%"},s.a.createElement("path",{d:"M716.298 417.341l-.01.01L307.702 7.23l-94.295 94.649 408.591 410.117-408.591 410.137 94.295 94.639 502.891-504.76z",className:"selected"})))))};return s.a.createElement("div",{className:"myPage_main"},s.a.createElement("section",null,s.a.createElement("div",{className:"user-info_header",onClick:this.doLogin},s.a.createElement("div",{className:"user_avatar"},s.a.createElement("img",{src:mt.a,alt:"\u5934\u50cf"})),s.a.createElement("div",{className:"user-info_content"},s.a.createElement("p",{className:"username"},this.state.login?this.state.username:"\u767b\u5f55/\u6ce8\u518c"),s.a.createElement("p",{className:"phone",style:{display:this.state.login?"":"none"}},s.a.createElement("svg",{viewBox:"0 0 655 1024",id:"mobile",width:"100%",height:"100%"},s.a.createElement("path",{d:"M0 122.501v778.998C0 968.946 55.189 1024 123.268 1024h408.824c68.52 0 123.268-54.846 123.268-122.501V122.501C655.36 55.054 600.171 0 532.092 0H123.268C54.748 0 0 54.846 0 122.501zM327.68 942.08c-22.622 0-40.96-18.338-40.96-40.96s18.338-40.96 40.96-40.96 40.96 18.338 40.96 40.96-18.338 40.96-40.96 40.96zM81.92 163.84h491.52V819.2H81.92V163.84z"})),s.a.createElement("span",null,this.state.phone))),s.a.createElement("div",{className:"more_icon"},s.a.createElement("svg",{fill:"#fff",viewBox:"0 0 1024 1024",id:"arrow-right",className:"icon",width:"100%",height:"100%"},s.a.createElement("path",{d:"M716.298 417.341l-.01.01L307.702 7.23l-94.295 94.649 408.591 410.117-408.591 410.137 94.295 94.639 502.891-504.76z",className:"selected"}))))),s.a.createElement("section",{className:"menu-line_section",onClick:this.getMyAddr.bind(this)},e(0,"\u6211\u7684\u5730\u5740")),s.a.createElement("section",{className:"menu-line_section"},e(0,"\u8bbe\u7f6e"),e(0,"\u5ba2\u670d"),e(0,"\u5176\u4ed6")),s.a.createElement("section",{style:{display:this.state.login?"":"none"}},s.a.createElement("button",{className:"logout",onClick:this.logout},"\u9000\u51fa\u767b\u5f55")))}}]),t}(n.Component)),dt=Object(De.a)(ut),ht=(a(109),a(128)),pt=function(e){function t(){return Object(Ie.a)(this,t),Object(Le.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"render",value:function(){return s.a.createElement("footer",{className:"index_footer"},s.a.createElement("div",{className:"index_footer_con"},s.a.createElement("span",{className:"index_footer_a"},s.a.createElement(ht.a,{to:"/",exact:!0,activeClassName:"active"},s.a.createElement("svg",{className:"index_footer_icon first",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{d:"M804 392.7v459l-474.6 16.8V407.4",fill:"#666666","p-id":"1201"}),s.a.createElement("path",{d:"M860.6 458.9L567.5 197.6 329.4 407.4",fill:"#666666","p-id":"1202"}),s.a.createElement("path",{d:"M220.1 607.6c-14.6 0-26.4-11.8-26.4-26.4V424.5c0-14.6 11.8-26.4 26.4-26.4s26.4 11.8 26.4 26.4v156.8c-0.1 14.5-11.9 26.3-26.4 26.3zM220.1 738.3c-14.6 0-26.4-11.8-26.4-26.4v-50.5c0-14.6 11.8-26.4 26.4-26.4s26.4 11.8 26.4 26.4V712c-0.1 14.5-11.9 26.3-26.4 26.3zM804 897.5H220.1c-14.6 0-26.4-11.8-26.4-26.4v-71.3c0-14.6 11.8-26.4 26.4-26.4s26.4 11.8 26.4 26.4v45h531.2V424.5c0-14.6 11.8-26.4 26.4-26.4s26.4 11.8 26.4 26.4v446.7c-0.1 14.5-12 26.3-26.5 26.3z",fill:"#666666","p-id":"1203"}),s.a.createElement("path",{d:"M932.6 553.1c-6.2 0-12.5-2.2-17.5-6.7L510.9 186.1 106.7 546.4c-10.9 9.7-27.5 8.7-37.2-2.1-9.7-10.9-8.7-27.5 2.1-37.2l421.7-375.9c10-8.9 25.1-8.9 35.1 0l421.7 375.9c10.9 9.7 11.8 26.3 2.1 37.2-5.1 5.8-12.4 8.8-19.6 8.8z",fill:"#666666","p-id":"1204"})),s.a.createElement("span",{className:"index_footer_word"},"\u9996\u9875"))),s.a.createElement("span",{className:"index_footer_a"},s.a.createElement(ht.a,{to:"/order",activeClassName:"active"},s.a.createElement("svg",{className:"index_footer_icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{d:"M170.666667 149.333333h341.333333v768H170.666667z",fill:"#666666","p-id":"1154"}),s.a.createElement("path",{d:"M654.933333 938.666667H196.266667C170.666667 938.666667 149.333333 917.333333 149.333333 891.733333V174.933333C149.333333 149.333333 170.666667 128 196.266667 128h631.466666C853.333333 128 874.666667 149.333333 874.666667 174.933333v544L654.933333 938.666667zM196.266667 170.666667c-2.133333 0-4.266667 2.133333-4.266667 4.266666v716.8c0 2.133333 2.133333 4.266667 4.266667 4.266667h441.6l194.133333-194.133333V174.933333c0-2.133333-2.133333-4.266667-4.266667-4.266666H196.266667z",fill:"#666666","p-id":"1155"}),s.a.createElement("path",{d:"M300.8 448c-6.4 0-10.666667-2.133333-14.933333-6.4l-44.8-44.8c-8.533333-8.533333-8.533333-21.333333 0-29.866667 8.533333-8.533333 21.333333-8.533333 29.866666 0l44.8 44.8c8.533333 8.533333 8.533333 21.333333 0 29.866667-4.266667 4.266667-10.666667 6.4-14.933333 6.4z",fill:"#666666","p-id":"1156"}),s.a.createElement("path",{d:"M300.8 448c-6.4 0-10.666667-2.133333-14.933333-6.4-8.533333-8.533333-8.533333-21.333333 0-29.866667l104.533333-104.533333c8.533333-8.533333 21.333333-8.533333 29.866667 0s8.533333 21.333333 0 29.866667l-104.533334 104.533333c-4.266667 4.266667-10.666667 6.4-14.933333 6.4zM300.8 684.8c-6.4 0-10.666667-2.133333-14.933333-6.4l-44.8-44.8c-8.533333-8.533333-8.533333-21.333333 0-29.866667s21.333333-8.533333 29.866666 0l44.8 44.8c8.533333 8.533333 8.533333 21.333333 0 29.866667-4.266667 4.266667-10.666667 6.4-14.933333 6.4z",fill:"#666666","p-id":"1157"}),s.a.createElement("path",{d:"M300.8 684.8c-6.4 0-10.666667-2.133333-14.933333-6.4-8.533333-8.533333-8.533333-21.333333 0-29.866667l104.533333-106.666666c8.533333-8.533333 21.333333-8.533333 29.866667 0s8.533333 21.333333 0 29.866666l-104.533334 106.666667c-4.266667 4.266667-10.666667 6.4-14.933333 6.4zM746.666667 405.333333H469.333333c-12.8 0-21.333333-8.533333-21.333333-21.333333s8.533333-21.333333 21.333333-21.333333h277.333334c12.8 0 21.333333 8.533333 21.333333 21.333333s-8.533333 21.333333-21.333333 21.333333zM746.666667 642.133333H469.333333c-12.8 0-21.333333-8.533333-21.333333-21.333333s8.533333-21.333333 21.333333-21.333333h277.333334c12.8 0 21.333333 8.533333 21.333333 21.333333s-8.533333 21.333333-21.333333 21.333333zM667.733333 917.333333h-42.666666v-172.8c0-29.866667 23.466667-53.333333 53.333333-53.333333H853.333333v42.666667h-172.8c-6.4 0-10.666667 4.266667-10.666666 10.666666V917.333333z",fill:"#666666","p-id":"1158"})),s.a.createElement("span",{className:"index_footer_word"},"\u8ba2\u5355"))),s.a.createElement("span",{className:"index_footer_a"},s.a.createElement(ht.a,{to:"/my",activeClassName:"active"},s.a.createElement("svg",{className:"index_footer_icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{d:"M740.072727 660.945455l41.890909-55.854546c-23.272727-18.618182-46.545455-32.581818-69.818181-46.545454-18.618182-9.309091-37.236364-18.618182-60.509091-27.927273 65.163636-51.2 102.4-130.327273 102.4-218.763637 0-158.254545-125.672727-283.927273-283.927273-283.927272s-279.272727 130.327273-279.272727 288.581818c0 93.090909 46.545455 172.218182 111.709091 223.418182C144.290909 605.090909 23.272727 754.036364 4.654545 930.909091c-4.654545 23.272727-4.654545 41.890909-4.654545 60.509091h69.818182c0-18.618182 0-32.581818 4.654545-51.2 23.272727-209.454545 204.8-367.709091 414.254546-367.709091 69.818182 0 134.981818 18.618182 195.490909 46.545454l55.854545 41.89091z m-349.090909-144.29091c-79.127273-32.581818-130.327273-107.054545-130.327273-200.145454 0-116.363636 97.745455-214.109091 214.109091-214.109091s214.109091 97.745455 214.109091 214.109091c0 88.436364-51.2 162.909091-125.672727 195.490909-23.272727-4.654545-51.2-4.654545-74.472727-4.654545-32.581818 0-65.163636 0-97.745455 9.30909zM898.327273 665.6c-18.618182 0-37.236364 4.654545-51.2 9.309091-13.963636-4.654545-32.581818-9.309091-51.2-9.309091-69.818182 0-125.672727 55.854545-125.672728 125.672727 0 37.236364 13.963636 69.818182 41.89091 93.090909l83.781818 79.127273c13.963636 13.963636 32.581818 18.618182 46.545454 18.618182 18.618182 0 32.581818-4.654545 46.545455-18.618182l51.2-51.2c9.309091-9.309091 18.618182-13.963636 23.272727-23.272727l9.309091-9.309091c27.927273-23.272727 41.890909-55.854545 41.890909-93.090909 9.309091-65.163636-46.545455-121.018182-116.363636-121.018182z m37.236363 172.218182l-9.309091 9.309091c-4.654545 9.309091-13.963636 13.963636-23.272727 23.272727l-51.2 51.2-83.781818-83.781818c-13.963636-13.963636-23.272727-27.927273-23.272727-46.545455 0-27.927273 23.272727-55.854545 55.854545-55.854545 23.272727 0 41.890909 13.963636 51.2 32.581818 9.309091-18.618182 27.927273-32.581818 51.2-32.581818 27.927273 0 55.854545 23.272727 55.854546 55.854545-4.654545 18.618182-13.963636 32.581818-23.272728 46.545455z","p-id":"2616",fill:"#666666"})),s.a.createElement("span",{className:"index_footer_word"},"\u6211\u7684")))))}}]),t}(n.Component),vt=(a(110),function(e){function t(){var e;return Object(Ie.a)(this,t),(e=Object(Le.a)(this,Object(Oe.a)(t).call(this))).doLoginSubmit=function(t){t.preventDefault();var a=e.refs.phone.value,n=e.refs.password.value,s=e.validate(a,n);s?e.setState({message:s}):e.props.requestLogin(a,n),e.timer&&clearInterval(e.timer),e.timer=setInterval(function(){e.setState({message:""})},2e3)},e.validate=function(e,t){return e?t?11!==e.length?"\u624b\u673a\u53f7\u4e0d\u6b63\u786e":t.length<6||t.length>20?"\u5bc6\u7801\u5e94\u5927\u4e8e 6 \u4f4d\uff0c\u5c0f\u4e8e 20 \u4f4d":"":"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a":"\u624b\u673a\u53f7\u4e0d\u80fd\u4e3a\u7a7a"},e.state={message:""},e}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"componentDidMount",value:function(){document.title="\u767b\u5f55"}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.message&&this.setState({message:e.message}),this.timer&&clearInterval(this.timer),this.timer=setInterval(function(){t.setState({message:""}),e.isLogin&&t.props.history.replace("/")},2e3)}},{key:"render",value:function(){return s.a.createElement("div",{className:"login_page"},s.a.createElement("div",{className:"login_main"},s.a.createElement("div",{className:"app_logo"},s.a.createElement("svg",{t:"1555231478403",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"575"},s.a.createElement("path",{d:"M829.314844 672.733867H190.145422c-56.979911 0-103.173689 46.409956-103.173689 103.662933v60.359111h845.5168v-60.359111c0-57.252978-46.205156-103.662933-103.173689-103.662933z",fill:"#FFCA6C","p-id":"576"}),s.a.createElement("path",{d:"M386.321067 672.733867H190.145422c-56.979911 0-103.173689 46.409956-103.173689 103.662933v60.359111h196.175645v-60.359111c0-57.252978 46.193778-103.662933 103.173689-103.662933z",fill:"#E5B05C","p-id":"577"}),s.a.createElement("path",{d:"M855.4496 672.733867c0-191.852089-154.783289-347.386311-345.725156-347.386311-190.930489 0-345.713778 155.522844-345.713777 347.386311",fill:"#FFCA6C","p-id":"578"}),s.a.createElement("path",{d:"M566.977422 330.126222a346.612622 346.612622 0 0 0-57.252978-4.767289c-190.930489 0-345.713778 155.522844-345.713777 347.386311h114.494577c0-172.270933 124.780089-315.209956 288.472178-342.619022z",fill:"#E5B05C","p-id":"579"}),s.a.createElement("path",{d:"M447.294578 211.273956a62.714311 62.429867 90 1 0 124.859733 0 62.714311 62.429867 90 1 0-124.859733 0Z",fill:"#FFCA6C","p-id":"580"}),s.a.createElement("path",{d:"M496.344178 211.285333A62.725689 62.725689 0 0 1 534.243556 153.6 61.872356 61.872356 0 0 0 509.724444 148.571022c-34.474667 0-62.418489 28.080356-62.418488 62.725689 0 34.633956 27.9552 62.714311 62.418488 62.714311 8.704 0 16.987022-1.797689 24.519112-5.028978a62.7712 62.7712 0 0 1-37.899378-57.696711z",fill:"#E5B05C","p-id":"581"}),s.a.createElement("path",{d:"M783.792356 588.561067c-5.814044 0-11.241244-3.618133-13.323378-9.432178-32.028444-89.827556-109.454222-158.139733-202.046578-178.301156-7.645867-1.661156-12.4928-9.238756-10.831644-16.907377s9.193244-12.549689 16.827733-10.888534a304.856178 304.856178 0 0 1 136.965689 69.7344 308.349156 308.349156 0 0 1 85.731555 126.7712 14.244978 14.244978 0 0 1-13.323377 19.023645zM868.898133 745.483378a14.108444 14.108444 0 0 1-11.286755-5.643378c-2.787556-3.709156-9.5232-6.269156-11.650845-6.781156a14.222222 14.222222 0 0 1 6.610489-27.659377c1.820444 0.443733 18.1248 4.664889 27.613867 17.282844a14.244978 14.244978 0 0 1-11.286756 22.801067z",fill:"#FFFFFF","p-id":"582"}),s.a.createElement("path",{d:"M869.512533 665.645511c-3.6864-191.3856-156.080356-346.794667-345.645511-354.2016v-24.564622a76.936533 76.936533 0 0 0 62.418489-75.593956 77.368889 77.368889 0 0 0-9.511822-37.182577 14.119822 14.119822 0 0 0-19.228445-5.563734 14.256356 14.256356 0 0 0-5.5296 19.319467c3.925333 7.122489 5.984711 15.212089 5.984712 23.426844 0 26.749156-21.651911 48.503467-48.275912 48.503467-26.624 0-48.275911-21.754311-48.275911-48.503467s21.651911-48.503467 48.264534-48.503466c6.587733 0 12.970667 1.308444 18.966755 3.879822a14.119822 14.119822 0 0 0 18.568534-7.486578 14.222222 14.222222 0 0 0-7.441067-18.659555 75.776 75.776 0 0 0-30.094222-6.166756c-42.211556 0-76.561067 34.5088-76.561067 76.936533a76.970667 76.970667 0 0 0 62.418489 75.605334v24.553244a354.804622 354.804622 0 0 0-135.213511 32.221867 14.2336 14.2336 0 0 0-6.985956 18.830222 14.108444 14.108444 0 0 0 18.7392 7.031467A327.554844 327.554844 0 0 1 509.724444 339.569778c178.2784 0 324.130133 142.119822 331.275378 319.533511a116.963556 116.963556 0 0 0-11.684978-0.591645H190.145422c-3.948089 0-7.839289 0.2048-11.684978 0.591645a332.629333 332.629333 0 0 1 150.232178-265.534578 14.244978 14.244978 0 0 0 4.107378-19.672178 14.108444 14.108444 0 0 0-19.581156-4.130133c-100.317867 65.809067-160.950044 176.014222-163.248355 295.879111A118.044444 118.044444 0 0 0 72.817778 776.3968v60.359111c0 7.839289 6.337422 14.210844 14.153955 14.210845h845.5168c7.805156 0 14.142578-6.371556 14.142578-14.210845v-60.359111c0-50.824533-32.176356-94.230756-77.118578-110.751289zM101.114311 822.533689v-46.136889c0-49.334044 39.936-89.452089 89.031111-89.452089h639.158045c44.282311 0 81.1008 32.642844 87.904711 75.241245H805.888c-7.816533 0-14.142578 6.371556-14.142578 14.210844 0 7.850667 6.337422 14.222222 14.142578 14.222222h112.457956v31.914667H101.114311z",fill:"","p-id":"583"}),s.a.createElement("path",{d:"M756.8384 762.185956H328.635733c-7.816533 0-14.153956 6.371556-14.153955 14.210844 0 7.850667 6.337422 14.222222 14.153955 14.222222h428.191289c7.816533 0 14.142578-6.371556 14.142578-14.222222a14.165333 14.165333 0 0 0-14.1312-14.210844zM283.147378 762.185956H162.633956c-7.816533 0-14.153956 6.371556-14.153956 14.210844 0 7.850667 6.337422 14.222222 14.153956 14.222222h120.502044c7.816533 0 14.153956-6.371556 14.153956-14.222222 0-7.839289-6.326044-14.210844-14.142578-14.210844z"}))),s.a.createElement("div",{className:"login_form"},s.a.createElement("form",null,s.a.createElement("label",{htmlFor:"phone"},s.a.createElement("input",{type:"tel",name:"phone",ref:"phone",placeholder:"\u624b\u673a\u53f7",maxLength:"11"})),s.a.createElement("label",{htmlFor:"password"},s.a.createElement("input",{type:"password",name:"password",ref:"password",placeholder:"\u5bc6\u7801"})),s.a.createElement("section",{className:"statement"},"\u65b0\u7528\u6237\u767b\u5f55\u5373\u81ea\u52a8\u6ce8\u518c\uff0c\u5e76\u8868\u793a\u5df2\u540c\u610f",s.a.createElement("a",{href:"javascript:void(0);"},"\u300a\u7528\u6237\u670d\u52a1\u534f\u8bae\u300b")),s.a.createElement("button",{className:"login-submit_btn",onClick:this.doLoginSubmit},"\u767b\u9646")),s.a.createElement("a",{href:"javascript:;",className:"about"},"\u5173\u4e8e\u6211\u4eec"))),s.a.createElement("div",{className:"alert_box",style:{display:this.state.message?"":"none"}},this.state.message))}}]),t}(s.a.Component)),gt=Object(De.a)(Object(l.b)(function(e){return{isLogin:e.login.isLogin,username:e.login.username,phone:e.login.phone,message:e.login.message}},function(e){return Object(i.b)({requestLogin:be},e)})(vt)),Et=(a(111),function(e){function t(){return Object(Ie.a)(this,t),Object(Le.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"render",value:function(){var e=this.props.headerInfo,t=j(e.image_path,"bg"),a=j(e.image_path,"avatar");return s.a.createElement("div",{className:"header_wrapper"},s.a.createElement("div",{className:"shop_msg"},s.a.createElement("div",{className:"shop_bg_img",style:{backgroundImage:"url(".concat(t,")")}},s.a.createElement(He,null)),s.a.createElement("div",{className:"shop_info"},s.a.createElement("div",{className:"shop_avatar"},s.a.createElement("img",{src:a,alt:e.name})),s.a.createElement("div",{className:"shop_related"},s.a.createElement("h2",{className:"shop_name"},s.a.createElement("span",null,e.name)),s.a.createElement("div",{className:"shop_other"},s.a.createElement("span",{className:"eval"},"\u8bc4\u4ef7",e.rating),s.a.createElement("span",{className:"month_sell"},"\u6708\u552e",e.recent_order_num),s.a.createElement("span",{className:"delivery"},e.delivery_mode.text,"\u7ea6",e.order_lead_time,"\u5206\u949f"))))))}}]),t}(n.Component)),ft=a(18),Nt=(a(112),function(e){function t(e){var a;return Object(Ie.a)(this,t),(a=Object(Le.a)(this,Object(Oe.a)(t).call(this,e))).state={current:0},a.scrollListenerFunc=a.scrollListenerFunc.bind(Object(ft.a)(a)),a}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"scrollListenerFunc",value:function(){var e=document.documentElement.scrollTop||document.body.scrollTop;(this.refs.tabsRef?this.refs.tabsRef.offsetTop-e:1)<0?this.props.recepSignal(!0):this.props.recepSignal(!1)}},{key:"componentDidMount",value:function(){var e=this.refs.tabsRef.clientHeight||this.refs.tabsRef.offsetHeight;this.props.getTabHeight(e),document.addEventListener("scroll",this.scrollListenerFunc)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.scrollListenerFunc)}},{key:"clickTab",value:function(e){this.setState({current:e})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"shoptabs",ref:"orderRef",id:"shoptabs"},s.a.createElement("nav",{className:"tabs_header",ref:"tabsRef"},this.props.data.map(function(t,a){return s.a.createElement("div",{className:"tab_cell ".concat(e.state.current===a?"tab_cell_active":""),key:a,onClick:e.clickTab.bind(e,a)},s.a.createElement("p",{className:"tab_title"},t.title,s.a.createElement("span",{className:"tab_underline"})))})),s.a.createElement("div",{className:"tabs_body"},s.a.Children.map(this.props.children,function(t){return s.a.createElement("div",{style:{display:Number(t.key)===Number(e.state.current)?"block":"none"}},t)})))}}]),t}(n.Component)),yt=(a(113),function(e){function t(){var e;return Object(Ie.a)(this,t),(e=Object(Le.a)(this,Object(Oe.a)(t).call(this))).getActiveId=function(t){e.props.menuCategory.forEach(function(a,n){t===M(a.name)&&n!==e.state.current&&e.setState({current:n})})},e.state={current:0},e}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.activeId;this.getActiveId(t)}},{key:"selectCate",value:function(e){document.querySelector("#"+M(e)).scrollIntoView({behavior:"smooth"})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"sidebar-category_wrapper"},s.a.createElement("ul",{className:"sidebar-category_ul"},this.props.menuCategory.map(function(t,a){return s.a.createElement("li",{className:["category-item_li",a===e.state.current?"category-active_li":""].join(" "),key:a,onClick:e.selectCate.bind(e,t.name)},t.icon_url?function(e){var t=j(e,"26x");return s.a.createElement("img",{src:t,alt:""})}(t.icon_url):null,s.a.createElement("span",{className:"category-item_txt"},t.name))})))}}]),t}(n.Component)),jt=(a(114),function(e){function t(){var e,a;Object(Ie.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(Le.a)(this,(e=Object(Oe.a)(t)).call.apply(e,[this].concat(s)))).getNum=function(e){var t=a.props.cartList;if(t)for(var n=0,s=t.length;n<s;n++)if(t[n].item_id===e)return t[n].num},a}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.refs.menuRef,a=null,n=null,s=null;document.getElementById("scroller").addEventListener("scroll",function(){s=n,a=t.scrollTop,t.childNodes.forEach(function(e){e.offsetTop<a+10&&(n=e.id)}),n!==s&&e.props.listChangeSite(n)}),this.props.updateShopCart()}},{key:"render",value:function(){var e=this,t=this.props.menuList.map(function(t,a){return s.a.createElement("dl",{className:"menu",key:a,id:M(t.name)},s.a.createElement("dt",{className:"menu-head_dt"},s.a.createElement("div",{className:"menu-cate_title"},s.a.createElement("strong",{className:"menu-cate_name"},t.name),s.a.createElement("span",{className:"menu-cate_desc"},t.description))),t.foods.map(function(t,a){return s.a.createElement("dd",{className:"menu-item_dd",key:a},s.a.createElement("div",{className:"food-detail_root"},s.a.createElement("span",{className:"food-detail_logo"},s.a.createElement("img",{src:j(t.image_path,"food"),alt:t.name})),s.a.createElement("section",{className:"food-detail_info"},s.a.createElement("p",{className:"food_name_txt"},t.name),s.a.createElement("p",{className:"food-desc_txt"},t.description),s.a.createElement("p",{className:"food-sales_box"},s.a.createElement("span",null,"\u6708\u552e",t.month_sales,"\u4efd"),s.a.createElement("span",null,"\u597d\u8bc4\u7387",t.satisfy_rate,"%")),s.a.createElement("span",{className:"sale_price"},"\uffe5",t.specfoods[0].price),s.a.createElement("div",{className:"food-select_box"},s.a.createElement("span",{className:"food-select_btn"},s.a.createElement("a",{href:"javascript:;",className:"food-reduce_btn",style:{display:e.getNum(t.item_id)?"":"none"},onClick:e.props.reduceCartNum.bind(e,e.props.shopId,t.item_id)},s.a.createElement("svg",{style:{fill:"rgb(35, 149, 255)"},viewBox:"0 0 44 44",id:"cart-add",width:"100%",height:"100%"},s.a.createElement("path",{fillRule:"evenodd",d:"M22 0C9.8 0 0 9.8 0 22s9.8 22 22 22 22-9.8 22-22S34.2 0 22 0zm0 42C11 42 2 33 2 22S11 2 22 2s20 9 20 20-9 20-20 20z",clipRule:"evenodd"}),s.a.createElement("path",{fillRule:"evenodd",d:"M32 20c1.1 0 2 .9 2 2s-.9 2-2 2H12c-1.1 0-2-.9-2-2s.9-2 2-2h20z",clipRule:"evenodd"}))),s.a.createElement("span",{className:"food-num_txt"},e.getNum(t.item_id)),s.a.createElement("a",{href:"javascript:;",className:"food-add_btn",onClick:e.props.addShoppingCart.bind(e,e.props.shopId,t)},s.a.createElement("svg",{style:{fill:"rgb(35, 149, 255)"},viewBox:"0 0 44 44",id:"cart-minus",width:"100%",height:"100%"},s.a.createElement("path",{fill:"none",d:"M0 0h44v44H0z"}),s.a.createElement("path",{fillRule:"evenodd",d:"M22 0C9.8 0 0 9.8 0 22s9.8 22 22 22 22-9.8 22-22S34.2 0 22 0zm10 24h-8v8c0 1.1-.9 2-2 2s-2-.9-2-2v-8h-8c-1.1 0-2-.9-2-2s.9-2 2-2h8v-8c0-1.1.9-2 2-2s2 .9 2 2v8h8c1.1 0 2 .9 2 2s-.9 2-2 2z",clipRule:"evenodd"}))))))))}))});return s.a.createElement("section",{className:"menuList container",id:"menuList"},s.a.createElement("div",{className:"scroller",ref:"menuRef",id:"scroller"},t))}}]),t}(n.Component)),bt=Object(l.b)(function(e){return{cartList:e.shopCart.cartList}},function(e){return Object(i.b)({addShoppingCart:de,reduceCartNum:he,updateShopCart:me},e)})(jt),Mt=(a(115),function(e){function t(){var e;return Object(Ie.a)(this,t),(e=Object(Le.a)(this,Object(Oe.a)(t).call(this))).clickMask=function(){e.setState({cartOpen:!1})},e.showCart=function(){e.setState({cartOpen:e.state.cartList.length>0&&!e.state.cartOpen})},e.clearCart=function(){e.setState({cartOpen:!1}),e.props.clearCurrentCart(e.props.shopId)},e.state={cartOpen:!1,cartList:[]},e}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"componentDidMount",value:function(){var e=this.refs.cartRef.clientHeight||this.refs.cartRef.offsetHeight;this.props.getCartHeight(e),this.props.updateShopCart(this.props.shopId)}},{key:"componentWillReceiveProps",value:function(e){this.setState({cartList:e.curCartList,cartOpen:!(e.curCartList.length<0)&&this.state.cartOpen})}},{key:"toCheckoutPage",value:function(){this.props.history.push({pathname:"/checkout",search:"?id=".concat(this.props.shopId),state:this.props.curCartList})}},{key:"render",value:function(){var e=this,t=0,a=0,n=this.state.cartList.map(function(n,c){return t+=Number(n.specfoods[0].price)*Number(n.num),a+=n.num,s.a.createElement("li",{className:"entity_li",key:c},s.a.createElement("span",{className:"entity-name_txt"},s.a.createElement("em",null,n.name)),s.a.createElement("span",{className:"entity-total_price"},s.a.createElement("span",{className:"price-descount_txt"},Number(n.specfoods[0].price)*Number(n.num))),s.a.createElement("span",{className:"entity-btn_group"},s.a.createElement("span",{className:"entity-btn_area"},s.a.createElement("a",{href:"javascript:;",onClick:e.props.reduceCartNum.bind(e,e.props.shopId,n.item_id)},s.a.createElement("svg",{viewBox:"0 0 44 44",id:"cart-add",width:"100%",height:"100%"},s.a.createElement("path",{fillRule:"evenodd",d:"M22 0C9.8 0 0 9.8 0 22s9.8 22 22 22 22-9.8 22-22S34.2 0 22 0zm0 42C11 42 2 33 2 22S11 2 22 2s20 9 20 20-9 20-20 20z",clipRule:"evenodd"}),s.a.createElement("path",{fillRule:"evenodd",d:"M32 20c1.1 0 2 .9 2 2s-.9 2-2 2H12c-1.1 0-2-.9-2-2s.9-2 2-2h20z",clipRule:"evenodd"}))),s.a.createElement("span",{className:"entity-quantity_txt"},n.num),s.a.createElement("a",{href:"javascript:;",onClick:e.props.addShoppingCart.bind(e,e.props.shopId,n)},s.a.createElement("svg",{viewBox:"0 0 44 44",id:"cart-minus",width:"100%",height:"100%"},s.a.createElement("path",{fill:"none",d:"M0 0h44v44H0z"}),s.a.createElement("path",{fillRule:"evenodd",d:"M22 0C9.8 0 0 9.8 0 22s9.8 22 22 22 22-9.8 22-22S34.2 0 22 0zm10 24h-8v8c0 1.1-.9 2-2 2s-2-.9-2-2v-8h-8c-1.1 0-2-.9-2-2s.9-2 2-2h8v-8c0-1.1.9-2 2-2s2 .9 2 2v8h8c1.1 0 2 .9 2 2s-.9 2-2 2z",clipRule:"evenodd"}))))))});return s.a.createElement("div",{"z-index":"10"},s.a.createElement("footer",{className:"shop-cart_view"},s.a.createElement("div",{className:"cart-view_mask",style:{zIndex:10,display:this.state.cartOpen?"":"none"},onClick:this.clickMask}),s.a.createElement("div",{className:"cart-body_view ".concat(this.state.cartOpen?"cart-view_open":""),style:{zIndex:11}},s.a.createElement("div",{style:{opacity:1}},s.a.createElement("div",{className:"cart-view_header"},s.a.createElement("div",{className:"cart-view_headTxt"},s.a.createElement("span",null,"\u5df2\u9009\u5546\u54c1")),s.a.createElement("a",{href:"javascript:;",className:"clear-cart_btn",onClick:this.clearCart},s.a.createElement("svg",{xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 15 15",id:"cart-remove",width:"100%",height:"100%"},s.a.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(1)"},s.a.createElement("path",{fill:"#979797",d:"M7.05 15h-5.5c-.303 0-.55-.26-.55-.583V5.091c0-.322.246-.583.55-.583.304 0 .55.26.55.583v8.743h4.95c1.032 0 2-.426 2.728-1.2A4.18 4.18 0 0 0 10.9 9.735l-.03-7.15c0-.323.245-.585.548-.586h.003c.302 0 .548.26.55.58L12 9.732a5.374 5.374 0 0 1-1.442 3.724C9.622 14.451 8.376 15 7.05 15z"}),s.a.createElement("path",{fill:"#979797",d:"M12.458 3H.542C.242 3 0 2.776 0 2.5S.243 2 .542 2h11.916c.3 0 .542.224.542.5s-.243.5-.542.5"}),s.a.createElement("path",{fill:"#979797",d:"M5 2h3V1H5v1zm3.464 1H4.536C4.24 3 4 2.776 4 2.5v-2c0-.276.24-.5.536-.5h3.928C8.76 0 9 .224 9 .5v2c0 .276-.24.5-.536.5z",mask:"url(#cart-remove_b)"}))),s.a.createElement("span",null,"\u6e05\u7a7a"))),s.a.createElement("div",{className:"cart-view_body"},s.a.createElement("ul",{className:"entity-list_ul"},n)))),s.a.createElement("div",{className:"cart-bottom_btns",style:{zIndex:11},ref:"cartRef"},s.a.createElement("span",{className:"cart-logo_btn ".concat(this.state.cartList.length>0?"":"cart-empty_img"," "),onClick:this.showCart},s.a.createElement("span",{className:"bagdes",style:{display:this.state.cartList.length>0?"":"none"}},a)),s.a.createElement("div",{className:"cart_info",onClick:this.showCart},s.a.createElement("p",{className:"cart-total_price ".concat(this.state.cartList.length>0?"":"emptyCart")},this.state.cartList.length>0?"\uffe5".concat(t):"\u672a\u9009\u8d2d\u5546\u54c1")),s.a.createElement("a",{href:"javascript:;",className:"submit-btn_area",onClick:this.toCheckoutPage.bind(this)},s.a.createElement("span",null,"\u53bb\u7ed3\u7b97")))))}}]),t}(n.Component)),It=Object(l.b)(function(e){return{cartList:e.shopCart.cartList,curCartList:e.shopCart.curCartList}},function(e){return Object(i.b)({addShoppingCart:de,reduceCartNum:he,updateShopCart:me,clearCurrentCart:pe},e)})(Object(De.a)(Mt)),wt=(a(116),function(e){function t(){var e;return Object(Ie.a)(this,t),(e=Object(Le.a)(this,Object(Oe.a)(t).call(this))).state={activeId:null,selectMenu:!1},e}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"componentDidMount",value:function(){var e=window.document.documentElement.clientHeight;this.setState({clientHeight:e})}},{key:"getCartHeight",value:function(e){this.setState({cartHeight:e})}},{key:"listChangeSite",value:function(e){this.setState({activeId:e})}},{key:"render",value:function(){var e=null;if(this.props.tabHeight){var t=this.props.tabHeight,a=this.state.cartHeight;e=this.state.clientHeight-t-a}else e="100%";return s.a.createElement("div",{className:"ordering-menu_view slideCss",ref:"orderRef"},s.a.createElement("div",{className:"menu-view"},s.a.createElement("main",{className:"menu-view_main",style:{height:e}},s.a.createElement(yt,{menuCategory:this.props.menu,activeId:this.state.activeId}),s.a.createElement(bt,{menuList:this.props.menu,shopId:this.props.shopId,listChangeSite:this.listChangeSite.bind(this)})),s.a.createElement(It,{getCartHeight:this.getCartHeight.bind(this),shopId:this.props.shopId})))}}]),t}(n.Component)),Lt=(a(117),function(e){function t(){return Object(Ie.a)(this,t),Object(Le.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"render",value:function(){return s.a.createElement("li",{className:"comment-tag_li ".concat(this.props.activeTag?"activeTag":""),onClick:this.props.handleClick},this.props.tagName," ",this.props.count>0?this.props.count:null)}}]),t}(n.Component)),Ot=(a(118),function(e){function t(){return Object(Ie.a)(this,t),Object(Le.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"render",value:function(){var e=this.props.commentData,t=j(e.avatar,"commentAvatar");return s.a.createElement("li",{className:"comment"},s.a.createElement("div",{className:"comment_block"},s.a.createElement("div",{className:"commenter_avatar"},t?s.a.createElement("img",{src:t,alt:e.username}):s.a.createElement("img",{src:y.defaultImg,alt:"\u9ed8\u8ba4\u70ae\u59d0"})),s.a.createElement("div",{className:"comment_content"},s.a.createElement("div",{className:"content_hd"},s.a.createElement("h3",null,e.username),s.a.createElement("small",{className:"comment_date"},e.rated_at)),s.a.createElement("div",{className:"rating_star"},s.a.createElement($e,{rating:e.rating}),s.a.createElement("span",{className:"rating_txt"},function(e){switch(e){case 5:return"\u8d85\u8d5e";case 4:return"\u6ee1\u610f";case 3:return"\u4e00\u822c";case 2:return"\u8f83\u5dee";case 1:return"\u5410\u69fd";default:return""}}(e.rating))),s.a.createElement("div",{className:"content"},e.rating_text),s.a.createElement("div",{className:"store_reply"},e.reply.content),s.a.createElement("ul",{className:"comment-img_ul"},e.order_images.map(function(e,t){return s.a.createElement("li",{key:t},s.a.createElement("img",{src:j(e.image_hash,"commentImg"),alt:e.food_names}))})))))}}]),t}(n.Component)),St=(a(119),function(e){function t(){var e;return Object(Ie.a)(this,t),(e=Object(Le.a)(this,Object(Oe.a)(t).call(this))).state={activeTag:0},e}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"handleClick",value:function(e){this.setState({activeTag:e})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"commentList"},s.a.createElement("ul",{className:"comment-tags_ul"},this.props.tags.map(function(t,a){return s.a.createElement(Lt,{key:a,tagName:t.name,count:t.count,activeTag:e.state.activeTag===a?"active":"",handleClick:e.handleClick.bind(e,a)})})),s.a.createElement("div",{className:"comment-list_ul"},this.props.comments.map(function(e,t){return s.a.createElement(Ot,{commentData:e,key:t})})))}}]),t}(n.Component)),Ct=(a(120),function(e){function t(){var e;return Object(Ie.a)(this,t),(e=Object(Le.a)(this,Object(Oe.a)(t).call(this))).state={ratingViewHeight:"100%"},e}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(d.a.mark(function e(){var t,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.requestComments(this.props.shopId);case 2:t=document.documentElement.clientHeight||document.body.clientHeight,a=t-this.props.tabHeight,this.setState({ratingViewHeight:a});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement("div",{className:"shop-rating_view",style:{height:this.state.ratingViewHeight+"px"}},s.a.createElement("section",{className:"rating-score_view",style:{display:Object.keys(this.props.rating).length>0?"":"none"}},s.a.createElement("div",{className:"score-total_left"},s.a.createElement("div",{className:"total-score_txt"},s.a.createElement("p",null,Number(this.props.rating.food_score).toFixed(1))),s.a.createElement("div",{className:"total-score_star"},s.a.createElement("span",null,"\u5546\u5bb6\u8bc4\u5206"),s.a.createElement($e,{rating:Number(this.props.rating.food_score).toFixed(1)}))),s.a.createElement("div",{className:"score-single_right"},s.a.createElement("div",{className:"score-taste-packing_lf"},s.a.createElement("div",null,s.a.createElement("span",null,"\u5473\u9053"),s.a.createElement("p",null,Number(this.props.rating.taste_score).toFixed(1))),s.a.createElement("div",null,s.a.createElement("span",null,"\u5305\u88c5"),s.a.createElement("p",null,Number(this.props.rating.package_score).toFixed(1)))),s.a.createElement("div",{className:"score-delivery_rt"},s.a.createElement("span",null,"\u914d\u9001"),s.a.createElement("p",null,Number(this.props.rating.rider_score).toFixed(1))))),0===Object.keys(this.props.rating).length||0===this.props.comments.length?s.a.createElement(nt,null):s.a.createElement(St,{comments:this.props.comments,tags:this.props.tags}))}}]),t}(n.Component)),_t=Object(l.b)(function(e){return{comments:e.comment.comments,rating:e.comment.rating,tags:e.comment.tags}},function(e){return Object(i.b)({requestComments:Ee},e)})(Ct),kt=(a(121),function(e){function t(){var e;return Object(Ie.a)(this,t),(e=Object(Le.a)(this,Object(Oe.a)(t).call(this))).state={increaseImg:!1,index:0},e}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"handleClickAlbum",value:function(e){this.setState({increaseImg:!this.state.increaseImg,index:e})}},{key:"render",value:function(){var e=this,t=this.props.restMessage,a=t.distance/1e3>0?Number(t.distance/1e3).toFixed(1)+"km":t.distance+"m";return s.a.createElement("div",{className:"inner-shop_info"},s.a.createElement("section",{className:"section delivery_msg"},s.a.createElement("h3",{className:"section_title"},"\u914d\u9001\u4fe1\u606f"),s.a.createElement("div",{className:"msg_detail"},s.a.createElement("span",null,"\u7531",t.delivery_mode.text,"\u63d0\u4f9b\u914d\u9001\uff0c"),s.a.createElement("span",null,"\u7ea6",t.order_lead_time,"\u5206\u949f\u5230\u8fbe"),s.a.createElement("span",null,"\u8ddd\u79bb",a),s.a.createElement("div",null,"\u914d\u9001\u8d39\uffe5",t.float_delivery_fee))),s.a.createElement("section",{className:"section shop-albums_section",style:{display:t.albums?"":"none"}},s.a.createElement("h3",{className:"section_title"},"\u5546\u5bb6\u5b9e\u666f"),s.a.createElement("div",{className:"albums"},t.albums?t.albums.map(function(t,a){return s.a.createElement("a",{href:"javascript:void(0)",key:a,className:"".concat(e.state.increaseImg&&e.state.index===a?"maxImg":""),onClick:e.handleClickAlbum.bind(e,a)},s.a.createElement("img",{src:j(t.cover_image_hash,"shopAlbum"),alt:t.name}),s.a.createElement("span",null,t.name,"(",t.count,")\u5f20"))}):null)),s.a.createElement("section",{className:"section shop-Info_section"},s.a.createElement("h3",{className:"section_title"},"\u5546\u5bb6\u4fe1\u606f"),s.a.createElement("ul",{className:"shop-info_detail"},s.a.createElement("li",null,t.description),s.a.createElement("li",null,s.a.createElement("span",null,"\u54c1\u7c7b"),s.a.createElement("span",null,t.flavors[0].name)),s.a.createElement("li",null,s.a.createElement("span",null,"\u5546\u5bb6\u7535\u8bdd"),s.a.createElement("span",null,t.phone)),s.a.createElement("li",null,s.a.createElement("span",null,"\u5730\u5740"),s.a.createElement("span",null,t.address)),s.a.createElement("li",null,s.a.createElement("span",null,"\u8425\u4e1a\u65f6\u95f4"),s.a.createElement("span",null,t.opening_hours[0].replace("/"," - "))))))}}]),t}(n.Component)),zt=function(e){function t(){var e;return Object(Ie.a)(this,t),(e=Object(Le.a)(this,Object(Oe.a)(t).call(this))).recepSignal=function(t){e.setState({flag:t})},e.getTabHeight=function(t){e.setState({tabHeight:t})},e.state={current:0,flag:!1},e}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"clickTab",value:function(e){this.setState({current:e})}},{key:"render",value:function(){return s.a.createElement(Nt,{data:[{title:"\u70b9\u9910",num:0},{title:"\u8bc4\u4ef7",num:1},{title:"\u5e97\u94fa",num:2}],recepSignal:this.recepSignal.bind(this),getTabHeight:this.getTabHeight.bind(this)},s.a.createElement(wt,{key:"0",menu:this.props.menu,tabHeight:this.state.flag?this.state.tabHeight:"",shopId:this.props.shopId}),s.a.createElement(_t,{key:"1",shopId:this.props.shopId,tabHeight:this.state.tabHeight}),s.a.createElement(kt,{key:"2",restMessage:this.props.restMessage}))}}]),t}(s.a.Component),At=function(e){function t(){var e;return Object(Ie.a)(this,t),(e=Object(Le.a)(this,Object(Oe.a)(t).call(this))).state={restMessage:{},current:0,news:null},e}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(this.props.id);case 2:"string"===typeof(t=e.sent)&&(this.setState({news:t}),document.title=t),"object"===typeof t&&(this.setState({restMessage:t}),document.title=t.rst?t.rst.name:t.restaurant.name);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 375 603"},s.a.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(-2)"},s.a.createElement("path",{fill:"#FFF",d:"M2 69h375v534H2z"}),s.a.createElement("path",{fill:"#EEE",d:"M2 0h375v69H2z"}),s.a.createElement("rect",{width:"66",height:"66",x:"157",y:"23",fill:"#F6F6F6",rx:"2"}),s.a.createElement("path",{fill:"#EEE",d:"M65 99h250v24H65zm0 31h250v13H65z"}),s.a.createElement("path",{fill:"#F6F6F6",d:"M65 150h250v13H65zM2 300h77v303H2z"}),s.a.createElement("path",{stroke:"#F6F6F6",d:"M26.5 172.5h326v28h-326z"}),s.a.createElement("path",{fill:"#EEE",d:"M50 180h280v13H50z"}),s.a.createElement("path",{stroke:"#F6F6F6",strokeLinecap:"square",d:"M.5 248.5h379.005"}),s.a.createElement("g",{transform:"translate(88 278)"},s.a.createElement("path",{fill:"#EEE",d:"M267 82v-3.998a.999.999 0 1 0-2 0V82h-3.998a.999.999 0 1 0 0 2H265v3.998a.999.999 0 1 0 2 0V84h3.998a.999.999 0 1 0 0-2H267zm-1 12c-6.075 0-11-4.925-11-11s4.925-11 11-11 11 4.925 11 11-4.925 11-11 11z"}),s.a.createElement("rect",{width:"74",height:"74",x:"1",y:"13",fill:"#F6F6F6",rx:"2"}),s.a.createElement("path",{fill:"#EEE",d:"M87 13h140v16H87zm0 25h126v11H87zm0 31h33v18H87z"}),s.a.createElement("path",{stroke:"#F6F6F6",strokeLinecap:"square",d:"M.473 1.5h293.032"})),s.a.createElement("g",{transform:"translate(88 393)"},s.a.createElement("path",{fill:"#EEE",d:"M267 82v-3.998a.999.999 0 1 0-2 0V82h-3.998a.999.999 0 1 0 0 2H265v3.998a.999.999 0 1 0 2 0V84h3.998a.999.999 0 1 0 0-2H267zm-1 12c-6.075 0-11-4.925-11-11s4.925-11 11-11 11 4.925 11 11-4.925 11-11 11z"}),s.a.createElement("rect",{width:"74",height:"74",x:"1",y:"13",fill:"#F6F6F6",rx:"2"}),s.a.createElement("path",{fill:"#EEE",d:"M87 13h140v16H87zm0 25h126v11H87zm0 31h33v18H87z"}),s.a.createElement("path",{stroke:"#F6F6F6",strokeLinecap:"square",d:"M.473 1.5h293.032"})),s.a.createElement("g",{transform:"translate(88 509)"},s.a.createElement("path",{fill:"#EEE",d:"M267 82v-3.998a.999.999 0 1 0-2 0V82h-3.998a.999.999 0 1 0 0 2H265v3.998a.999.999 0 1 0 2 0V84h3.998a.999.999 0 1 0 0-2H267zm-1 12c-6.075 0-11-4.925-11-11s4.925-11 11-11 11 4.925 11 11-4.925 11-11 11z"}),s.a.createElement("rect",{width:"74",height:"74",x:"1",y:"13",fill:"#F6F6F6",rx:"2"}),s.a.createElement("path",{fill:"#EEE",d:"M87 13h140v16H87zm0 25h126v11H87zm0 31h33v18H87z"}),s.a.createElement("path",{stroke:"#F6F6F6",strokeLinecap:"square",d:"M.473 1.5h293.032"})),s.a.createElement("path",{fill:"#EEE",d:"M50 222h29v16H50zm39 35h29v16H89zM9 267h50v15H9zm0 54h50v15H9zm0 49h50v15H9zm0 101h50v15H9zm0-49h50v15H9zm0 101h50v15H9zm0 50h50v15H9zm166-351h29v16h-29zm126 0h29v16h-29z"}),s.a.createElement("path",{fill:"#F5F5F5",d:"M2 556h375v47H2z"}))),t=s.a.createElement("div",null,s.a.createElement(Et,{headerInfo:this.state.restMessage.rst||this.state.restMessage.restaurant}),s.a.createElement(zt,{menu:this.state.restMessage.menu,shopId:this.props.id,restMessage:this.state.restMessage.rst||this.state.restMessage.restaurant}),this.state.news?s.a.createElement("div",{className:"news",style:{textAlign:"center",marginTop:"50%",fontSize:"26px",color:"red"}},this.state.news):null);return s.a.createElement("div",{className:"shop_container",style:{backgroundColor:"#fff",height:"100%"}},Object.keys(this.state.restMessage).length>0?t:e)}}]),t}(n.Component),xt=(a(122),function(e){function t(){var e;return Object(Ie.a)(this,t),(e=Object(Le.a)(this,Object(Oe.a)(t).call(this))).doSearch=function(t){var a="string"!==typeof t?e.refs.searchRef.value:t;e.searchWord(a)},e.saveHistory=function(t){var a=e.getHistory()||[];a.indexOf(t)>-1||(a.push(t),window.localStorage.setItem("SEARCH_HISTORY",JSON.stringify(a)))},e.getHistory=function(){return JSON.parse(window.localStorage.getItem("SEARCH_HISTORY"))},e.state={customColor:"#999",searchResultList:null,searchShopList:null,searchWord:!1,searching:!1,showHistory:!1},e}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"componentDidMount",value:function(){document.title="\u641c\u7d22",this.getHistory()&&this.setState({showHistory:!0})}},{key:"onChangeSite",value:function(e){var t=this,a=e.target.value;if(a)(function(e){return new Promise(function(t,a){var n=JSON.parse(window.localStorage.getItem("LOCATION"));if(e&&n){var s=y.searchEntity;v.a.get(s,{params:{kw:e,latitude:n.latitude,longitude:n.longitude,city_id:n.city_id}}).then(function(e){var a=e.data;t(a)}).catch(function(e){console.log(e)})}})})(a).then(function(e){t.setState({searchResultList:e||null})}),this.props.history.replace("search"),this.setState({searchWord:!0,showHistory:!1});else{var n=this.getHistory();this.setState({showHistory:!!n,searchWord:!1,searching:!1})}}},{key:"searchRest",value:function(e){this.props.history.push({pathname:"/shop/".concat(e.id)})}},{key:"searchWord",value:function(e){var t,a=this;this.props.history.replace("search?keyword=".concat(e)),this.setState({searchShopList:[],searchWord:!1,searching:!0,showHistory:!1}),this.refs.searchRef.value=e,(t=e,new Promise(function(e){var a=JSON.parse(window.localStorage.getItem("LOCATION"));if(t&&a){var n=y.searchShopList;v.a.get(n,{params:{offset:0,limit:15,keyword:t,latitude:a.latitude,longitude:a.longitude,search_item_type:3,is_rewrite:1,extras:["activities","coupon"],terminal:"h5"}}).then(function(t){var a=t.data;e(a)}).catch(function(e){console.log(e)})}})).then(function(e){var t=e.inside[0].restaurant_with_foods;t&&a.setState({searchShopList:t,searching:!1,searchWord:!1})}),this.saveHistory(e)}},{key:"render",value:function(){var e=this,t=this.state.searchResultList?this.state.searchResultList:null,a=t&&t.restaurants.length>0?t.restaurants.map(function(t,a){return s.a.createElement("li",{key:a,onClick:e.searchRest.bind(e,t)},s.a.createElement("div",{className:"search-rest_item"},s.a.createElement("img",{src:j(t.image_path,"restMini"),alt:t.name}),s.a.createElement("div",{className:"rest-item_detail"},s.a.createElement("div",null,s.a.createElement("p",{className:"rest-item_name"},t.name)),s.a.createElement("span",{className:"rest_rating"},"\u8bc4\u4ef7",t.rating))))}):null,n=t&&t.words.length>0?t.words.map(function(a,n){return s.a.createElement("li",{key:n,className:"search-word_item",onClick:e.searchWord.bind(e,a)},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",className:"search_icon"},s.a.createElement("path",{fillOpacity:".38",d:"M14.778 13.732a.739.739 0 1 1-1.056 1.036l-2.515-2.565a.864.864 0 0 1-.01-1.206 4.894 4.894 0 0 0 1.357-3.651c-.126-2.492-2.156-4.52-4.648-4.647a4.911 4.911 0 0 0-5.16 5.163c.126 2.475 2.13 4.496 4.605 4.642.451.026.896-.008 1.326-.1a.739.739 0 0 1 .308 1.446c-.56.12-1.137.164-1.72.13-3.227-.19-5.83-2.815-5.995-6.042a6.39 6.39 0 0 1 6.71-6.715c3.25.165 5.884 2.8 6.05 6.048a6.37 6.37 0 0 1-1.374 4.3l2.12 2.161z"})),s.a.createElement("p",null,t.words[n]))}):null,c=JSON.parse(window.localStorage.getItem("SEARCH_HISTORY"));return s.a.createElement("div",{className:"search_page"},s.a.createElement("div",{className:"search_header"},s.a.createElement(He,{customColor:this.state.customColor}),s.a.createElement("form",{className:"search-hd_input"},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",className:"search_icon"},s.a.createElement("path",{fillOpacity:".38",d:"M14.778 13.732a.739.739 0 1 1-1.056 1.036l-2.515-2.565a.864.864 0 0 1-.01-1.206 4.894 4.894 0 0 0 1.357-3.651c-.126-2.492-2.156-4.52-4.648-4.647a4.911 4.911 0 0 0-5.16 5.163c.126 2.475 2.13 4.496 4.605 4.642.451.026.896-.008 1.326-.1a.739.739 0 0 1 .308 1.446c-.56.12-1.137.164-1.72.13-3.227-.19-5.83-2.815-5.995-6.042a6.39 6.39 0 0 1 6.71-6.715c3.25.165 5.884 2.8 6.05 6.048a6.37 6.37 0 0 1-1.374 4.3l2.12 2.161z"})),s.a.createElement("input",{ref:"searchRef",type:"search",placeholder:"\u8bf7\u8f93\u5165\u5546\u5bb6\u3001\u5546\u54c1\u540d\u79f0",autoFocus:!0,className:"search-entity_input",onChange:this.onChangeSite.bind(this)}),s.a.createElement("div",{className:"search-submit_btn",onClick:this.doSearch.bind(this)},"\u641c\u7d22"))),s.a.createElement("div",{className:"search_body"},s.a.createElement("ul",{className:"search-result_ul",style:{display:this.state.searchWord?"":"none"}},a,n),s.a.createElement("div",{className:"search-result_shopList",style:{display:this.state.showHistory?"none":""}},s.a.createElement("div",{className:"loading_svg",style:{display:this.state.searching?"":"none"}},s.a.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},s.a.createElement("path",{d:"M955.261 575.322h-126.643c-34.955 0-63.322-28.37-63.322-63.322s28.37-63.322 63.322-63.322h126.643c34.955 0 63.322 28.37 63.322 63.322s-28.37 63.322-63.322 63.322v0zM780.616 332.925c-24.696 24.696-64.842 24.696-89.538 0s-24.696-64.842 0-89.538l89.538-89.538c24.696-24.696 64.842-24.696 89.538 0s24.696 64.842 0 89.538l-89.538 89.538zM512 1018.582c-34.955 0-63.322-28.37-63.322-63.322v-126.643c0-34.955 28.37-63.322 63.322-63.322s63.322 28.37 63.322 63.322v126.643c0 34.955-28.37 63.322-63.322 63.322v0zM512 258.707c-34.955 0-63.322-28.37-63.322-63.322v-126.643c0-34.955 28.37-63.322 63.322-63.322s63.322 28.37 63.322 63.322v126.643c0 34.955-28.37 63.322-63.322 63.322v0zM243.384 870.157c-24.696 24.696-64.842 24.696-89.538 0s-24.696-64.842 0-89.538l89.538-89.538c24.696-24.696 64.842-24.696 89.538 0s24.696 64.842 0 89.538l-89.538 89.538zM243.384 332.925l-89.538-89.538c-24.696-24.696-24.696-64.842 0-89.538s64.842-24.696 89.538 0l89.538 89.538c24.696 24.696 24.696 64.842 0 89.538-24.822 24.696-64.842 24.696-89.538 0v0zM258.707 512c0 34.955-28.37 63.322-63.322 63.322h-126.643c-34.955 0-63.322-28.37-63.322-63.322s28.37-63.322 63.322-63.322h126.643c34.955 0 63.322 28.37 63.322 63.322v0zM780.616 691.075l89.538 89.538c24.696 24.696 24.696 64.842 0 89.538s-64.842 24.696-89.538 0l-89.538-89.538c-24.696-24.696-24.696-64.842 0-89.538 24.822-24.696 64.842-24.696 89.538 0v0zM780.616 691.075z",fill:"#555555"}))),this.state.searchShopList?s.a.createElement(at,{data:this.state.searchShopList}):null),s.a.createElement("div",{className:"search-history_block",style:{display:this.state.showHistory?"":"none"}},s.a.createElement("header",{className:"search_history"},s.a.createElement("span",null,"\u641c\u7d22\u5386\u53f2"),s.a.createElement("div",{className:"clear_history"},s.a.createElement("svg",{viewBox:"0 0 512 512",id:"bin",width:"100%",height:"100%"},s.a.createElement("path",{d:"M64 160v320c0 17.6 14.4 32 32 32h288c17.6 0 32-14.4 32-32V160H64zm96 288h-32V224h32v224zm64 0h-32V224h32v224zm64 0h-32V224h32v224zm64 0h-32V224h32v224zM424 64H320V24c0-13.2-10.8-24-24-24H184c-13.2 0-24 10.8-24 24v40H56c-13.2 0-24 10.8-24 24v40h416V88c0-13.2-10.8-24-24-24zm-136 0h-96V32.401h96V64z"})))),s.a.createElement("section",null,c?c.map(function(t,a){return s.a.createElement("div",{className:"history_item",key:a,onClick:e.doSearch.bind(e,t)},t)}):null))))}}]),t}(n.Component)),Tt=Object(De.a)(xt),Dt=function(e){function t(){return Object(Ie.a)(this,t),Object(Le.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(Re,{title:""}),s.a.createElement(at,{data:this.props.cateList}))}}]),t}(n.Component),Ht=Object(l.b)(function(e){return{cateList:e.foodEntry.cateList}})(Dt),Rt=(a(123),function(e){function t(){var e;return Object(Ie.a)(this,t),(e=Object(Le.a)(this,Object(Oe.a)(t).call(this))).payfor=function(){e.setState({title:"\u6b63\u5728\u652f\u4ed8"}),e.timer&&clearTimeout(e.timer),e.timer=setTimeout(function(){e.setState({pay:!0})},500),e.saveOrder(),e.timer=setTimeout(function(){e.props.history.push({pathname:"/order"})},1500)},e.saveOrder=function(){var t=e.state.shopDetail.rst,a=t.id,n=e.state.shopName,s=t.image_path,c=e.props.cartList,r=Date.parse(new Date),i=JSON.parse(window.localStorage.getItem("ORDER_LIST"))||[];i.push({restId:a,restName:n,restImg:s,cartList:c,created_timestamp:r}),window.localStorage.setItem("ORDER_LIST",JSON.stringify(i)),S({restId:a,restName:n,restImg:s,cartList:c,created_timestamp:r}),e.props.clearCurrentCart(a)},e.state={receiveAddr:{},shopName:"",pay:!1},e}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.title="\u786e\u8ba4\u8ba2\u5355",O().then(function(t){if(t){var a=JSON.parse(localStorage.getItem("RESTAURANT_DATA"));e.setState({receiveAddr:t[0],shopDetail:a,shopName:a.rst.name,title:"\u786e\u8ba4\u8ba2\u5355"})}else e.props.history.push({pathname:"/address"})})}},{key:"render",value:function(){var e=this.state.receiveAddr,t=0,a=this.props.cartList.map(function(e,a){return t+=Number(e.specfoods[0].price)*Number(e.num),s.a.createElement("li",{className:"entity_li",key:a},s.a.createElement("img",{src:j(e.image_path,"orderFood"),alt:e.name}),s.a.createElement("span",{className:"food_name"},e.name),s.a.createElement("span",{className:"food_num"},"x ",e.num),s.a.createElement("span",{className:"food_price"},s.a.createElement("span",null,"\uffe5"),Number(e.specfoods[0].price)*Number(e.num)))});return s.a.createElement("div",{className:"checkoutPage"},s.a.createElement(Re,{title:this.state.title}),s.a.createElement("div",{className:"checkout_main viewbody"},s.a.createElement("section",{className:"receiveAddr addr_block"},s.a.createElement("p",{className:"title"},s.a.createElement("span",null,"\u8ba2\u5355\u914d\u9001\u81f3")),s.a.createElement("p",{className:"addr_detail"},s.a.createElement("span",null,e.address)),s.a.createElement("h2",{className:"addr_name"},s.a.createElement("span",{className:"user_name"},e.name),s.a.createElement("span",{className:"user_sex"},1===e.sex?"(\u5148\u751f)":"(\u5973\u58eb)"),s.a.createElement("span",{className:"phone"},e.phone))),s.a.createElement("section",{className:"cart-group_block"},s.a.createElement("h3",{className:"shop_name"},this.state.shopName),s.a.createElement("ul",{className:"cart-list_ul"},a),s.a.createElement("div",{className:"cale_price"},"\u5c0f\u8ba1 \uffe5",s.a.createElement("span",null,t)))),s.a.createElement("footer",null,s.a.createElement("span",null,"\uffe5",t),s.a.createElement("button",{onClick:this.payfor},"\u786e\u8ba4\u652f\u4ed8")),s.a.createElement("div",{className:"mask",style:{display:this.state.pay?"":"none"}}),s.a.createElement("div",{className:"pay-success_box",style:{display:this.state.pay?"":"none"}},s.a.createElement("svg",{t:"1557496974655",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{d:"M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z",fill:"#52C41A"}),s.a.createElement("path",{d:"M178.614857 557.860571a42.496 42.496 0 0 1 60.123429-60.050285l85.942857 87.625143a42.496 42.496 0 0 1-60.050286 60.123428L178.614857 557.860571z m561.005714-250.148571a42.496 42.496 0 1 1 65.097143 54.637714L394.459429 725.577143a42.496 42.496 0 0 1-65.097143-54.637714l410.112-363.373715z",fill:"#FFFFFF"})),s.a.createElement("span",null,"\u652f\u4ed8\u6210\u529f")))}}]),t}(n.Component)),Ut=Object(l.b)(null,function(e){return Object(i.b)({clearCurrentCart:pe},e)})(Object(De.a)(Rt)),Yt=a(19),Bt=(a(124),function(e){function t(){var e;return Object(Ie.a)(this,t),(e=Object(Le.a)(this,Object(Oe.a)(t).call(this))).state=Object(Yt.a)({name:"",sex:"",phone:"",address:""},"sex",1),e.handleInputChange=e.handleInputChange.bind(Object(ft.a)(e)),e}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"componentDidMount",value:function(){document.title="\u6211\u7684\u5730\u5740";var e=JSON.parse(localStorage.getItem("RECEIVE_ADDRESS"))[0],t=this.props.location.state?this.props.location.state.user:e;this.setState(Object(m.a)({},t.address))}},{key:"changeSex",value:function(e){var t=e.target.getAttribute("value");this.setState({sex:t})}},{key:"saveAddr",value:function(){var e=this.state,t=e.name,a=e.sex,n=e.phone,s=e.address;C({name:t,sex:a,phone:n,address:s}),localStorage.setItem("RECEIVE_ADDRESS",JSON.stringify([{name:t,sex:a,phone:n,address:s}])),window.history.go(-1)}},{key:"handleInputChange",value:function(e){this.setState(Object(Yt.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(Re,{title:"\u6211\u7684\u5730\u5740"}),s.a.createElement("form",{className:"address_block",action:"javascript:;",ref:"addrForm"},s.a.createElement("label",{className:"user_name"},s.a.createElement("div",{className:"left_title"},"\u8054\u7cfb\u4eba"),s.a.createElement("div",{className:"rt_content"},s.a.createElement("div",{className:"hd_name"},s.a.createElement("input",{type:"text",name:"name",onChange:this.handleInputChange,id:"name",value:this.state.name})))),s.a.createElement("label",null,s.a.createElement("div",{className:"left_title"}),s.a.createElement("div",{className:"rt_content"},s.a.createElement("div",{className:"ft_sex",onClick:this.changeSex.bind(this)},s.a.createElement("span",{className:"sex_checkbox ".concat(1==this.state.sex?"active":null),id:"sex_1",value:"1"},"\u5148\u751f"),s.a.createElement("span",{className:"sex_checkbox ".concat(2==this.state.sex?"active":null),id:"sex_2",value:"2"},"\u5973\u58eb")))),s.a.createElement("label",{className:"user_phone"},s.a.createElement("div",{className:"left_title"},"\u7535\u8bdd"),s.a.createElement("div",{className:"rt_content"},s.a.createElement("input",{type:"tel",name:"phone",onChange:this.handleInputChange,id:"phone",value:this.state.phone}))),s.a.createElement("label",{className:"user_addr"},s.a.createElement("div",{className:"left_title"},"\u5730\u5740"),s.a.createElement("div",{className:"rt_content"},s.a.createElement("input",{type:"text",name:"address",onChange:this.handleInputChange,id:"address",value:this.state.address}))),s.a.createElement("input",{type:"submit",value:"\u4fdd\u5b58",className:"saveAddr",onClick:this.saveAddr.bind(this)})))}}]),t}(s.a.Component)),Ft=function(e){function t(){return Object(Ie.a)(this,t),Object(Le.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(Se.a)(t,e),Object(we.a)(t,[{key:"componentWillMount",value:function(){document.title="\u5916\u5356\u8ba2\u9910",document.cookie="SID=".concat(f),document.cookie="USERID="+E}},{key:"render",value:function(){return s.a.createElement(Ce.a,null,s.a.createElement("div",null,s.a.createElement(_e.a,{exact:!0,path:"/",component:rt}),s.a.createElement(_e.a,{path:"/order",component:lt}),s.a.createElement(_e.a,{path:"/my",component:dt}),s.a.createElement(ke.a,null,s.a.createElement(_e.a,{path:"/login",component:gt}),s.a.createElement(_e.a,{path:"/shop/:id",component:function(e){var t=e.match;return s.a.createElement(At,{id:t.params.id})}}),s.a.createElement(_e.a,{path:"/search",component:Tt}),s.a.createElement(_e.a,{path:"/cateResult",component:Ht}),s.a.createElement(_e.a,{path:"/checkout",component:function(e){var t=e.location;return s.a.createElement(Ut,{cartList:t.state})}}),s.a.createElement(_e.a,{path:"/address",component:Bt}),s.a.createElement(pt,null))))}}]),t}(n.Component),Pt=Object(i.d)(Me,Object(i.a)(o.a));r.a.render(s.a.createElement(l.a,{store:Pt},s.a.createElement(Ft,null)),document.getElementById("root"))}]),[[51,1,2]]]);
//# sourceMappingURL=main.88b02d01.chunk.js.map